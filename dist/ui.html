<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Figma Token Manager</title></head><body><div class="plugin-container"><header id="header-container" class="header"></header><aside id="sidebar-container" class="sidebar"></aside><main id="main-panel-container" class="main-panel"><div class="main-panel-header"><h1 class="main-panel-title">Design Tokens</h1><div class="main-panel-actions"></div></div><div id="reference-warning" class="reference-warning" style="display: none;"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 8V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 16H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg> <span id="reference-warning-text">Unresolved references found</span></div><div id="token-content-container" class="token-content-area"><div id="token-grid-container" class="token-view visual-view"></div><div id="json-view-container" class="token-view json-view" style="display: none;"><pre id="json-content"></pre></div></div></main><aside id="details-panel-container" class="details-panel"></aside><div id="resize-handle"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 8L14 14M10 14H14V10M2 2L8 8M2 6V2H6" stroke="rgba(0,0,0,0.4)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div></div><script defer="defer" src="ui.js"></script><script>
(()=>{"use strict";var n={28:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* src/ui/styles/components/diagnostics.css */\n/**\n * Reference diagnostics and validation styles\n */\n\n.reference-validation {\n  background-color: var(--color-warning);\n  background-color: rgba(255, 193, 7, 0.1);\n  padding: var(--space-2) var(--space-3);\n  border-radius: var(--radius-md);\n  border-left: 4px solid var(--color-warning);\n  margin-top: var(--space-4);\n  font-size: var(--font-size-xs);\n}\n\n.reference-problem {\n  color: var(--color-danger);\n  font-weight: var(--font-weight-medium);\n  padding: var(--space-1) 0;\n}\n\n.validation-tools {\n  margin-top: var(--space-4);\n  padding-top: var(--space-2);\n  border-top: 1px solid var(--color-gray-300);\n}\n\n/* Reference diagnosis styles */\n.reference-diagnosis {\n  margin-top: var(--space-5);\n  padding: var(--space-3);\n  border-radius: var(--radius-md);\n  border: 1px solid var(--color-gray-300);\n  background-color: var(--color-gray-100);\n}\n\n.reference-diagnosis h3 {\n  margin-top: 0;\n  margin-bottom: var(--space-3);\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-semibold);\n}\n\n.reference-diagnosis h4 {\n  margin-top: var(--space-4);\n  margin-bottom: var(--space-2);\n  font-size: var(--font-size-sm);\n  font-weight: var(--font-weight-medium);\n}\n\n.diagnosis-success {\n  display: flex;\n  align-items: center;\n  padding: var(--space-2) var(--space-3);\n  background-color: rgba(40, 167, 69, 0.1);\n  border-radius: var(--radius-md);\n  color: var(--color-success);\n  font-weight: var(--font-weight-medium);\n}\n\n.diagnosis-success svg {\n  margin-right: var(--space-2);\n}\n\n.diagnosis-summary {\n  padding: var(--space-2) var(--space-3);\n  background-color: rgba(255, 193, 7, 0.1);\n  border-radius: var(--radius-md);\n  color: var(--color-warning);\n  margin-bottom: var(--space-3);\n}\n\n.reference-table {\n  width: 100%;\n  border-collapse: collapse;\n  font-size: var(--font-size-xs);\n  margin-bottom: var(--space-4);\n}\n\n.reference-table th {\n  text-align: left;\n  padding: var(--space-1) var(--space-2);\n  background-color: var(--color-gray-200);\n  border: 1px solid var(--color-gray-300);\n}\n\n.reference-table td {\n  padding: var(--space-1) var(--space-2);\n  border: 1px solid var(--color-gray-300);\n  vertical-align: top;\n}\n\n.reference-value {\n  font-family: var(--font-family-monospace);\n  color: var(--color-primary);\n}\n\n.reference-value.suggested {\n  color: var(--color-success);\n  font-weight: var(--font-weight-medium);\n}\n\n.potential-match {\n  display: flex;\n  justify-content: space-between;\n  padding: var(--space-1) 0;\n  border-bottom: 1px solid var(--color-gray-200);\n}\n\n.potential-match:last-child {\n  border-bottom: none;\n}\n\n.match-path {\n  font-family: var(--font-family-monospace);\n}\n\n.match-similarity {\n  margin-left: var(--space-2);\n  color: var(--color-gray-600);\n  font-size: var(--font-size-xs);\n}\n\n.no-matches {\n  color: var(--color-danger);\n  font-style: italic;\n}\n\n.fix-button {\n  background-color: var(--color-primary);\n  color: var(--color-white);\n  padding: var(--space-1) var(--space-2);\n  border: none;\n  border-radius: var(--radius-sm);\n  cursor: pointer;\n  font-size: var(--font-size-xs);\n  margin: 0;\n}\n\n.fix-button:hover {\n  background-color: var(--color-primary-dark);\n}\n\n.fix-actions {\n  margin-top: var(--space-3);\n  text-align: right;\n}\n\n.fix-description {\n  margin-bottom: var(--space-2);\n  color: var(--color-gray-600);\n  font-size: var(--font-size-xs);\n}\n\n.reference-recommendations {\n  background-color: rgba(23, 162, 184, 0.1);\n  padding: var(--space-2) var(--space-3);\n  border-radius: var(--radius-md);\n  margin-top: var(--space-4);\n}\n\n.reference-recommendations ul {\n  margin: var(--space-2) 0 0 0;\n  padding-left: var(--space-5);\n}\n\n.reference-recommendations li {\n  margin-bottom: var(--space-1);\n  font-size: var(--font-size-xs);\n}",""]);const s=a},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},63:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* Token Grid Styles */\n\n.token-grid {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n  }\n  \n  .token-section-title {\n    font-size: 16px;\n    font-weight: 500;\n    color: var(--color-gray-700);\n    margin-bottom: 8px;\n    padding-bottom: 4px;\n    border-bottom: 1px solid var(--color-gray-300);\n  }\n  \n  .token-section {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));\n    gap: 12px;\n    margin-bottom: 8px;\n  }\n  \n  .token-card {\n    background-color: white;\n    border: 1px solid var(--color-gray-300);\n    border-radius: 6px;\n    overflow: hidden;\n    transition: all 0.1s ease;\n    cursor: pointer;\n  }\n  \n  .token-card:hover {\n    border-color: var(--color-primary);\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  }\n  \n  .token-card-content {\n    padding: 12px;\n    display: flex;\n    align-items: center;\n  }\n  \n  .token-visual {\n    margin-right: 12px;\n    position: relative;\n    flex-shrink: 0;\n  }\n  \n  .token-info {\n    flex: 1;\n    min-width: 0; /* Ensure text wrapping works with flexbox */\n  }\n  \n  .token-name {\n    font-size: 12px;\n    font-weight: 500;\n    color: var(--color-gray-900);\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  \n  .token-value {\n    font-size: 11px;\n    font-family: var(--font-family-monospace);\n    color: var(--color-gray-600);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  \n  /* References */\n  .token-card.is-reference {\n    border-color: var(--color-primary-light);\n    background-color: var(--color-primary-50);\n  }\n  \n  .reference-indicator {\n    position: absolute;\n    top: -4px;\n    right: -4px;\n    width: 16px;\n    height: 16px;\n    background-color: var(--color-primary);\n    color: white;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 10px;\n    font-weight: bold;\n  }\n  \n  .resolved-value {\n    color: var(--color-success);\n    font-size: 10px;\n    margin-left: 4px;\n  }\n  \n  /* Color tokens */\n  .color-swatch {\n    width: 40px;\n    height: 40px;\n    border-radius: 6px;\n    border: 1px solid var(--color-gray-300);\n    box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n  }\n  \n  /* Dimension tokens */\n  .dimension-swatch {\n    width: 80px;\n    height: 12px;\n    background-color: var(--color-gray-200);\n    border-radius: 6px;\n    overflow: hidden;\n  }\n  \n  .dimension-line {\n    height: 100%;\n    background-color: var(--color-primary);\n    border-radius: 6px;\n    min-width: 4px;\n  }\n  \n  /* Typography tokens */\n  .font-family-sample,\n  .font-weight-sample,\n  .font-size-sample {\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--color-gray-100);\n    border-radius: 6px;\n    font-size: 18px;\n  }\n  \n  .line-height-sample {\n    width: 40px;\n    padding: 4px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--color-gray-100);\n    border-radius: 6px;\n    font-size: 10px;\n    text-align: center;\n  }\n  \n  .letter-spacing-sample {\n    width: 60px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--color-gray-100);\n    border-radius: 6px;\n    font-size: 12px;\n  }\n  \n  /* Shadow tokens */\n  .shadow-sample {\n    width: 60px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .shadow-box {\n    width: 40px;\n    height: 20px;\n    background-color: white;\n    border-radius: 4px;\n  }\n  \n  /* Generic tokens */\n  .generic-sample {\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: var(--color-gray-100);\n    border-radius: 6px;\n  }\n  \n  .generic-icon {\n    font-size: 16px;\n    font-weight: bold;\n    color: var(--color-gray-600);\n  }\n  \n  /* Empty state */\n  .token-grid-empty {\n    padding: 40px;\n    text-align: center;\n    color: var(--color-gray-500);\n    font-style: italic;\n  }",""]);const s=a},67:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,'/* Sidebar Panel Styles - Improved for cleaner interface */\n\n.sidebar {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: var(--color-gray-200);\n  border-right: 1px solid var(--color-gray-300);\n}\n\n\n/* Sidebar Tabs */\n.sidebar-tabs {\n  display: flex;\n  border-bottom: 1px solid var(--color-gray-300);\n  background-color: var(--color-gray-200);\n}\n\n.sidebar-tab {\n  flex: 1;\n  padding: 10px 8px;\n  font-size: 12px;\n  font-weight: 500;\n  text-align: center;\n  background: none;\n  border: none;\n  color: var(--color-gray-600);\n  cursor: pointer;\n  transition: all 0.1s ease;\n}\n\n.sidebar-tab:hover {\n  color: var(--color-gray-800);\n}\n\n.sidebar-tab.active {\n  color: var(--color-primary);\n  border-bottom: 2px solid var(--color-primary);\n}\n\n/* Sidebar Content Area */\n.sidebar-content {\n  flex: 1;\n  overflow-y: auto;\n  background-color: white;\n}\n\n.sidebar-panel {\n  display: none;\n  padding: 12px;\n}\n\n.sidebar-panel.active {\n  display: block;\n}\n\n/* Settings Panel */\n.settings-section {\n  margin-bottom: 16px;\n}\n\n.settings-heading {\n  font-size: 12px;\n  font-weight: 600;\n  margin-bottom: 8px;\n  color: var(--color-gray-700);\n}\n\n.settings-options {\n  margin-left: 8px;\n}\n\n.settings-option {\n  display: flex;\n  align-items: center;\n  margin-bottom: 6px;\n}\n\n.settings-option input[type="radio"],\n.settings-option input[type="checkbox"] {\n  margin-right: 8px;\n}\n\n.settings-option label {\n  font-size: 12px;\n  cursor: pointer;\n}\n\n/* Sidebar Footer */\n.sidebar-footer {\n  border-top: 1px solid var(--color-gray-300);\n  padding: 12px;\n  background-color: var(--color-gray-100);\n}\n\n.reference-status {\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n  margin-bottom: 8px;\n}\n\n.reference-counter {\n  color: var(--color-success);\n  font-weight: 500;\n}\n\n.reference-counter.has-unresolved {\n  color: var(--color-warning);\n}\n\n.sidebar-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.extract-btn, .export-btn {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n  padding: 8px;\n  font-size: 12px;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: none;\n}\n\n.extract-btn {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-700);\n}\n\n.extract-btn:hover {\n  background-color: var(--color-gray-300);\n}\n\n.export-btn {\n  background-color: var(--color-primary);\n  color: white;\n}\n\n.export-btn:hover {\n  background-color: var(--color-primary-dark);\n}\n\n/* Responsive adjustments for sidebar */\n@media (max-width: 960px) {\n  .sidebar.visible {\n    z-index: 150;\n  }\n}\n\n@media (max-width: 768px) {\n  .sidebar {\n    width: 240px;\n  }\n  \n  .sidebar.visible {\n    width: 240px;\n  }\n  \n  .sidebar-panel {\n    padding: 8px;\n  }\n}',""]);const s=a},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},a=[],s=0;s<n.length;s++){var l=n[s],c=o.base?l[0]+o.base:l[0],d=i[c]||0,p="".concat(c," ").concat(d);i[c]=d+1;var m=t(p),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)e[m].references++,e[m].updater(g);else{var u=r(g,o);o.byIndex=s,e.splice(s,0,{identifier:p,updater:u,references:1})}a.push(p)}return a}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var a=0;a<i.length;a++){var s=t(i[a]);e[s].references--}for(var l=o(n,r),c=0;c<i.length;c++){var d=t(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=l}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},116:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/**\n * Category Navigation Styles\n * Styles for token category navigation and sections\n */\n\n/* Navigation bar */\n.category-navigation {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  padding: 12px 0;\n  margin-bottom: 16px;\n  border-bottom: 1px solid var(--color-gray-300);\n  position: sticky;\n  top: -18px;\n  background-color: white;\n  z-index: 10;\n}\n  \n.category-link {\n  display: inline-block;\n  padding: 4px 12px;\n  border-radius: 16px;\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-700);\n  font-size: 12px;\n  font-weight: 500;\n  text-decoration: none;\n  border: 1px solid var(--color-gray-300);\n  transition: all 0.1s ease;\n}\n  \n.category-link:hover {\n  background-color: var(--color-primary-50);\n  color: var(--color-primary);\n  border-color: var(--color-primary-light);\n}\n  \n  .category-link:active {\n    background-color: var(--color-primary);\n    color: var(--color-white);\n  }\n  \n  /* Category sections */\n  .token-categories-container {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n  }\n  \n  .token-category-section {\n    scroll-margin-top: 60px; /* Ensure anchor links scroll below the navigation */\n  }\n  \n  .token-category-heading {\n    font-size: 18px;\n    font-weight: 600;\n    color: var(--color-gray-800);\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n    border-bottom: 2px solid var(--color-primary-light);\n  }\n  \n  .token-subcategory-section {\n    margin-bottom: 16px;\n  }\n  \n  .token-category-heading {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--color-gray-800);\n    margin-bottom: 12px;\n    padding-bottom: 8px;\n    border-bottom: 1px solid var(--color-primary-light);\n  }\n  \n  /* Make sure the token grid maintains its existing styles */\n  .token-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 12px;\n  }\n  \n  /* Smooth scrolling for anchor navigation */\n  html {\n    scroll-behavior: smooth;\n  }",""]);const s=a},235:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/**\n * Token Details Panel Styles\n * Uses more intuitive class names that match the component structure\n */\n\n .details-panel-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: white;\n  overflow-y: auto;\n}\n\n/* Header section */\n.details-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 14px 16px;\n  border-bottom: 1px solid var(--color-gray-300);\n  background-color: var(--color-gray-200);\n}\n\n.details-title {\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--color-gray-800);\n  margin: 0;\n}\n\n.close-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 20px;\n  color: var(--color-gray-500);\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n}\n\n.close-button:hover {\n  background-color: var(--color-gray-100);\n  color: var(--color-gray-900);\n}\n\n/* Preview/Visualization section */\n.details-preview {\n  padding: 16px;\n  border-bottom: 1px solid var(--color-gray-200);\n}\n\n.token-visualization {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 12px;\n  padding: 16px;\n  background-color: var(--color-gray-100);\n  border-radius: 8px;\n}\n\n/* Color visualization */\n.color-visualization .color-swatch {\n  width: 100px;\n  height: 100px;\n  border-radius: 8px;\n  border: 1px solid var(--color-gray-300);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.color-visualization .color-value {\n  font-family: var(--font-family-monospace);\n  font-size: 14px;\n  color: var(--color-gray-700);\n}\n\n/* Dimension visualization */\n.dimension-visualization .dimension-representation {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n}\n\n.dimension-visualization .dimension-box {\n  background-color: var(--color-primary);\n  border-radius: 4px;\n  height: 24px;\n}\n\n.dimension-visualization .dimension-value {\n  font-family: var(--font-family-monospace);\n  font-size: 14px;\n  color: var(--color-gray-700);\n  margin-top: 8px;\n}\n\n/* Typography visualization */\n.typography-visualization .font-sample {\n  padding: 16px;\n  background-color: white;\n  border-radius: 4px;\n  border: 1px solid var(--color-gray-300);\n  max-width: 100%;\n  overflow: hidden;\n  text-align: center;\n}\n\n.typography-sample-large {\n  font-size: 36px;\n  margin-bottom: 8px;\n}\n\n.typography-sample-small {\n  font-size: 14px;\n}\n\n.typography-sample-lines {\n  line-height: inherit;\n}\n\n.typography-sample-text {\n  font-size: 18px;\n}\n\n/* Shadow visualization */\n.shadow-visualization .shadow-box {\n  width: 100px;\n  height: 50px;\n  background-color: white;\n  border-radius: 8px;\n}\n\n/* Generic visualization */\n.generic-visualization .generic-value {\n  padding: 12px;\n  background-color: white;\n  border-radius: 4px;\n  border: 1px solid var(--color-gray-300);\n  max-width: 100%;\n  overflow: hidden;\n  font-family: var(--font-family-monospace);\n}\n\n/* Info section */\n.details-info {\n  flex: 1;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.details-section {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n}\n\n.details-section:not(:last-child) {\n  padding-bottom: 16px;\n  border-bottom: 1px solid var(--color-gray-200);\n}\n\n.details-section-title {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-gray-700);\n  margin: 0 0 8px 0;\n}\n\n.details-row {\n  margin-bottom: 12px;\n}\n\n.details-label {\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--color-gray-600);\n  margin-bottom: 4px;\n}\n\n.details-value {\n  display: flex;\n  align-items: center;\n  font-size: 13px;\n  color: var(--color-gray-900);\n  padding: 8px;\n  background-color: var(--color-gray-100);\n  border-radius: 4px;\n  word-break: break-word;\n  width: 100%;\n}\n\n.details-monospace {\n  font-family: var(--font-family-monospace);\n}\n\n/* Reference specific styles */\n.reference-details {\n  background-color: var(--color-primary-50);\n  padding: 12px;\n  border-radius: 6px;\n  margin: 8px 0;\n}\n\n.reference-value {\n  color: var(--color-primary);\n  font-family: var(--font-family-monospace);\n  font-style: italic;\n}\n\n.reference-badge {\n  display: inline-block;\n  padding: 2px 8px;\n  background-color: var(--color-primary-light);\n  color: var(--color-primary-dark);\n  border-radius: 12px;\n  font-size: 10px;\n  font-weight: 500;\n  margin-left: 8px;\n}\n\n/* Usage examples */\n.usage-item {\n  margin-bottom: 12px;\n}\n\n.usage-label {\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--color-gray-600);\n  margin-bottom: 4px;\n}\n\n.usage-code {\n  display: flex;\n  align-items: center;\n  font-family: var(--font-family-monospace);\n  font-size: 12px;\n  padding: 8px;\n  background-color: var(--color-gray-100);\n  border-radius: 4px;\n  word-break: break-word;\n  width: 100%;\n}\n\n/* Copy button */\n.copy-button {\n  background-color: var(--color-gray-200);\n  border: none;\n  border-radius: 4px;\n  padding: 4px 8px;\n  font-size: 12px;\n  cursor: pointer;\n  color: var(--color-gray-700);\n  margin-left: 8px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n}\n\n.copy-button:hover {\n  background-color: var(--color-gray-300);\n}\n\n/* Copy tooltip */\n.copy-tooltip {\n  position: fixed;\n  background-color: var(--color-gray-900);\n  color: white;\n  padding: 4px 8px;\n  border-radius: 4px;\n  font-size: 12px;\n  transform: translate(-50%, -100%);\n  z-index: 1000;\n  white-space: nowrap;\n}\n\n.copy-tooltip.fade-out {\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n/* Responsive adjustments */\n@media (max-width: 360px) {\n  .details-label {\n    width: 100%;\n  }\n  \n  .details-value {\n    width: 100%;\n  }\n}",""]);const s=a},266:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,'/* src/ui/styles/components/tabs.css */\n/**\n * Tab component styles\n */\n\n .preview-tabs {\n    display: flex;\n    flex-wrap: wrap;\n    border-bottom: 1px solid #ddd;\n    margin-bottom: 10px;\n    gap: 4px;\n  }\n  \n  .tab-button {\n    padding: 6px 12px;\n    background-color: #f0f0f0;\n    border: 1px solid #ddd;\n    border-bottom: none;\n    border-radius: 4px 4px 0 0;\n    cursor: pointer;\n    font-size: 11px;\n    font-weight: 500;\n    color: #555;\n    position: relative;\n    bottom: -1px;\n    margin-bottom: 0;\n    margin-top: 0; /* Override the general button margin */\n  }\n  \n  .tab-button:hover {\n    background-color: #e5e5e5;\n  }\n  \n  .tab-button.active {\n    background-color: white;\n    border-bottom: 1px solid white;\n    color: #18a0fb;\n    z-index: 1;\n  }\n  \n  .preview-content {\n    position: relative;\n    border: 1px solid #ddd;\n    border-top: none;\n    padding: 10px;\n    border-radius: 0 0 4px 4px;\n    background-color: white;\n  }\n  \n  .tab-content {\n    display: none; /* Hide all tab content by default */\n  }\n  \n  /* Make sure the active tab content is visible */\n  .tab-content.active,\n  .tab-content[style*="display: block"] {\n    display: block !important;\n  }\n  \n  /* Fix any overflow issues */\n  .preview-content pre {\n    margin: 0;\n    white-space: pre-wrap;\n    word-break: break-word;\n    overflow-x: auto;\n  }\n  \n  /* Preview toggle container */\n  .preview-toggle-container {\n    display: flex;\n    margin-bottom: 12px;\n    align-items: center;\n    justify-content: space-between;\n  }\n  \n  .preview-toggle-container h3 {\n    margin: 0;\n  }\n  \n  /* Custom styles for preview containers */\n  .preview-content-json,\n  .preview-content-visual {\n    display: none;\n  }\n  \n  .preview-content-json.active,\n  .preview-content-visual.active {\n    display: block;\n  }',""]);const s=a},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},339:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* Three-panel layout structure */\n.plugin-container {\n  display: grid;\n  grid-template-columns: 280px 1fr 0;\n  grid-template-rows: auto 1fr;\n  height: 100vh;\n  transition: grid-template-columns 0.3s ease;\n}\n\n/* When details panel is active */\n.plugin-container.show-details {\n  grid-template-columns: 280px 1fr 280px;\n}\n\n/* Full width header that spans all columns */\n.header {\n  grid-column: 1 / -1;\n  width: 100%;\n  max-width: 100vw;\n  box-sizing: border-box;\n  border-bottom: 1px solid var(--color-gray-300);\n  background-color: white;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 16px;\n  height: 56px;\n  position: sticky;\n  top: 0;\n  z-index: 200;\n  left: 0;\n  right: 0;\n}\n\n.sidebar {\n  grid-column: 1;\n  border-right: 1px solid var(--color-gray-300);\n  background-color: white;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  z-index: 150;\n  transition: transform 0.3s ease;\n}\n\n.main-panel {\n  grid-column: 2;\n  overflow-y: auto;\n  background-color: white;\n  padding: 16px;\n}\n\n.main-panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.main-panel-title {\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-gray-800);\n}\n\n.reference-warning {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background-color: rgba(255, 184, 0, 0.1);\n  border-radius: 6px;\n  margin-bottom: 16px;\n  border-left: 3px solid var(--color-warning);\n  color: var(--color-warning);\n  font-size: 12px;\n}\n\n.details-panel {\n  grid-column: 3;\n  border-left: 1px solid var(--color-gray-300);\n  background-color: white;\n  overflow-y: auto;\n  transform: translateX(100%);\n  transition: transform 0.3s ease;\n}\n\n.details-panel.visible {\n  transform: translateX(0);\n}\n\n/* Token content area */\n.token-content-area {\n  padding: 16px;\n}\n\n/* Collection headers */\n.collection-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n}\n\n.collection-title {\n  font-size: 18px;\n  font-weight: 500;\n}\n\n/* Nested components structure */\n.sidebar-content {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.sidebar-footer {\n  border-top: 1px solid var(--color-gray-300);\n  padding: 12px;\n  background-color: var(--color-gray-100);\n}\n@media (min-width: 960px) {\nbutton.sidebar-toggle {\n  display: none;\n}\n}\n/* For medium screens (tablet-sized) */\n@media (max-width: 960px) {\n  /* Hide sidebar by default */\n  .plugin-container {\n    grid-template-columns: 0 1fr 0;\n  }\n  \n  .plugin-container.show-details {\n    grid-template-columns: 0 1fr 280px;\n  }\n  \n  .sidebar {\n    position: fixed;\n    left: 0;\n    top: 56px;\n    bottom: 0;\n    width: 280px;\n    transform: translateX(-100%);\n    box-shadow: 2px 0 5px rgba(0,0,0,0.1);\n  }\n  \n  .sidebar.visible {\n    transform: translateX(0);\n  }\n  \n  /* When visible, ensure full width */\n  .sidebar.visible {\n    width: 280px;\n  }\n  \n}\n\n/* For smaller screens (mobile-sized) */\n@media (max-width: 768px) {\n  .plugin-container {\n    grid-template-columns: 0 1fr 0;\n  }\n\n  .plugin-container.show-details {\n    grid-template-columns: 0 1fr 0;\n  }\n  \n  .header {\n    width: 100%;\n    max-width: 100vw;\n    position: fixed;\n    z-index: 250;\n  }\n  \n  .details-panel {\n    position: fixed;\n    right: 0;\n    top: 56px;\n    bottom: 0;\n    width: 280px;\n    z-index: 100;\n  }\n  \n  .main-panel {\n    padding: 12px;\n    margin-top: 56px;\n  }\n  \n  .token-content-area {\n    padding: 12px;\n  }\n}\n\n/* Handle smaller height */\n@media (max-height: 600px) {\n  .header {\n    height: 48px;\n    padding: 8px 16px;\n    width: 100%;\n    max-width: 100vw;\n  }\n  \n  .main-panel {\n    padding: 8px;\n  }\n  \n  .token-content-area {\n    padding: 8px;\n  }\n}",""]);const s=a},346:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* Resize handle component */\n#resize-handle {\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  width: 16px;\n  height: 16px;\n  cursor: nwse-resize;\n  z-index: 1000;\n  opacity: 0.4;\n  transition: opacity 0.2s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 2px;\n}\n\n#resize-handle:hover {\n  opacity: 1;\n}\n\n/* For responsive layouts */\n@media (max-width: 768px) {\n  #resize-handle {\n    opacity: 0.6;\n  }\n}",""]);const s=a},396:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* src/ui/styles/components/tokens.css */\n/**\n * Token preview component styles\n */\n\n .token-preview-wrapper {\n    margin-top: 16px;\n  }\n  \n  .token-preview-container {\n    border: 1px solid #e5e5e5;\n    border-radius: 4px;\n    overflow: hidden;\n    background: white;\n  }\n  \n  .token-preview-heading {\n    background-color: #f0f0f0;\n    padding: 8px 12px;\n    font-weight: 600;\n    font-size: 12px;\n    border-bottom: 1px solid #e5e5e5;\n  }\n  \n  .token-preview-subheading {\n    padding: 6px 12px;\n    font-weight: 500;\n    font-size: 11px;\n    background-color: #f9f9f9;\n    border-bottom: 1px solid #f0f0f0;\n  }\n  \n  /* Grid layout for token items */\n  .token-preview-items-grid {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 2px;\n    padding: 2px;\n    background-color: #f0f0f0;\n  }\n  \n  .token-preview-item {\n    display: flex;\n    align-items: center;\n    padding: 10px;\n    background-color: white;\n    transition: all 0.2s ease;\n    flex: 1 0 calc(50% - 2px);\n    max-width: calc(50% - 2px);\n    box-sizing: border-box;\n    border-radius: 3px;\n  }\n  \n  .token-preview-item:hover {\n    background-color: #f9f9f9;\n    transform: translateY(-1px);\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n  }\n  \n  /* Color tokens */\n  .color-swatch {\n    width: 48px;\n    height: 48px;\n    border-radius: 8px;\n    margin-right: 12px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    position: relative;\n    flex-shrink: 0;\n  }\n  \n  .color-swatch.transparent {\n    background-image: \n      linear-gradient(45deg, #eee 25%, transparent 25%),\n      linear-gradient(-45deg, #eee 25%, transparent 25%),\n      linear-gradient(45deg, transparent 75%, #eee 75%),\n      linear-gradient(-45deg, transparent 75%, #eee 75%);\n    background-size: 10px 10px;\n    background-position: 0 0, 0 5px, 5px -5px, -5px 0px;\n  }\n  \n  /* Reference tokens */\n  .color-swatch.reference-token.unresolved-reference {\n    background-image: \n      linear-gradient(45deg, #f0f0f0 25%, #cccccc 25%),\n      linear-gradient(-45deg, #f0f0f0 25%, #cccccc 25%),\n      linear-gradient(45deg, #cccccc 75%, #f0f0f0 75%),\n      linear-gradient(-45deg, #cccccc 75%, #f0f0f0 75%);\n    background-size: 8px 8px;\n    border: 1px dashed #999;\n  }\n  \n  /* Reference indicator */\n  .reference-icon {\n    position: absolute;\n    top: 2px;\n    right: 2px;\n    width: 12px;\n    height: 12px;\n    color: #0366d6;\n    background: hsl(0deg 0% 100% / 80%);\n    font-size: 9px;\n    border-radius: 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n    z-index: 2;\n  }\n  \n  .reference-label {\n    display: inline-block;\n    margin-left: 4px;\n    padding: 1px 4px;\n    background: #e8f0fe;\n    color: #0366d6;\n    font-size: 8px;\n    border-radius: 2px;\n    vertical-align: middle;\n  }\n  \n  .resolved-value {\n    display: inline-block;\n    margin-left: 4px;\n    padding: 1px 4px;\n    background: #e6ffed;\n    color: #22863a;\n    font-size: 8px;\n    border-radius: 2px;\n    vertical-align: middle;\n  }\n  \n  /* Token info structure */\n  .token-info {\n    flex: 1;\n    margin-left: 6px;\n    overflow: hidden;\n  }\n  \n  .token-path {\n    font-weight: 500;\n    font-size: 12px;\n    color: #333;\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  \n  .token-value {\n    font-family: monospace;\n    font-size: 11px;\n    color: #666;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  \n  /* Other token type visualizations */\n  .dimension-swatch {\n    height: 16px;\n    display: flex;\n    align-items: center;\n    margin-right: 12px;\n    min-width: 90px;\n    max-width: 120px;\n    position: relative;\n    flex-shrink: 0;\n  }\n  \n  .dimension-bar {\n    height: 6px;\n    background-color: #0366d6;\n    border-radius: 3px;\n    min-width: 4px;\n  }\n  \n  /* Typography tokens */\n  .font-family-sample,\n  .font-weight-sample {\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: 12px;\n    background: #f5f5f5;\n    border-radius: 4px;\n    font-size: 18px;\n  }\n  \n  .font-size-sample {\n    height: 40px;\n    min-width: 40px;\n    display: flex;\n    align-items: center;\n    margin-right: 12px;\n    background: #f5f5f5;\n    padding: 0 8px;\n    border-radius: 4px;\n    line-height: 1;\n    overflow: hidden;\n  }\n  \n  .line-height-sample {\n    width: 80px;\n    min-height: 40px;\n    display: flex;\n    align-items: center;\n    margin-right: 12px;\n    background: #f5f5f5;\n    padding: 4px 8px;\n    border-radius: 4px;\n    font-size: 10px;\n    line-height: inherit;\n    overflow: hidden;\n  }\n  \n  .letter-spacing-sample {\n    height: 40px;\n    min-width: 80px;\n    display: flex;\n    align-items: center;\n    margin-right: 12px;\n    background: #f5f5f5;\n    padding: 0 8px;\n    border-radius: 4px;\n    font-size: 14px;\n    overflow: hidden;\n  }\n  \n  /* Duration tokens */\n  .duration-swatch {\n    width: 100px;\n    height: 16px;\n    margin-right: 12px;\n    background: #f5f5f5;\n    border-radius: 8px;\n    overflow: hidden;\n    position: relative;\n  }\n  \n  .duration-bar {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(90deg, transparent, #0366d6, transparent);\n    animation: duration-animation 2s infinite;\n    transform: translateX(-100%);\n  }\n  \n  @keyframes duration-animation {\n    0% { transform: translateX(-100%); }\n    100% { transform: translateX(100%); }\n  }\n  \n  /* Shadow tokens */\n  .shadow-swatch {\n    width: 60px;\n    height: 40px;\n    margin-right: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .shadow-box {\n    width: 40px;\n    height: 20px;\n    background: white;\n    border-radius: 4px;\n  }\n  \n  /* Radius tokens */\n  .radius-swatch {\n    width: 70px;\n    height: 50px;\n    margin-right: 12px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n  }\n  \n  .radius-box {\n    width: 40px;\n    height: 30px;\n    background: #0366d6;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  }\n  \n  .radius-label {\n    margin-top: 4px;\n    font-size: 9px;\n    color: #666;\n  }\n  \n  /* Spacing tokens */\n  .spacing-swatch {\n    width: 80px;\n    height: 50px;\n    margin-right: 12px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n  }\n  \n  .spacing-box {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 30px;\n  }\n  \n  .spacing-element {\n    width: 16px;\n    height: 16px;\n    background: #0366d6;\n    border-radius: 3px;\n  }\n  \n  .spacing-gap {\n    height: 8px;\n    background-color: rgba(3, 102, 214, 0.2);\n    border: 1px dashed rgba(3, 102, 214, 0.5);\n  }\n  \n  .spacing-label {\n    margin-top: 4px;\n    font-size: 9px;\n    color: #666;\n  }\n  \n  /* Generic tokens */\n  .generic-swatch {\n    width: 24px;\n    height: 24px;\n    border-radius: 4px;\n    margin-right: 12px;\n    background: #f0f0f0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n  }\n  \n  .generic-indicator {\n    font-size: 12px;\n    font-weight: bold;\n    color: #666;\n  }\n  \n  /* Smaller reference icon for non-color tokens */\n  .reference-icon-small {\n    position: absolute;\n    top: -2px;\n    right: -2px;\n    width: 10px;\n    height: 10px;\n    background: #0366d6;\n    color: white;\n    font-size: 8px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1;\n  }\n  \n  /* Token detail panel */\n  .token-detail-panel {\n    position: absolute;\n    z-index: 10;\n    background: white;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n    padding: 12px;\n    min-width: 260px;\n    max-width: 400px;\n  }\n  \n  .token-detail-header {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 12px;\n  }\n  \n  .token-detail-title {\n    font-weight: 600;\n    font-size: 12px;\n  }\n  \n  .token-detail-close {\n    cursor: pointer;\n    font-size: 16px;\n    line-height: 1;\n    color: #999;\n  }\n  \n  .token-detail-content {\n    margin-bottom: 12px;\n  }\n  \n  .token-detail-row {\n    display: flex;\n    margin-bottom: 6px;\n    font-size: 11px;\n  }\n  \n  .token-detail-label {\n    font-weight: 500;\n    width: 80px;\n    color: #666;\n  }\n  \n  .token-detail-value {\n    font-family: monospace;\n    flex: 1;\n    word-break: break-all;\n  }\n  \n  .token-usage-label {\n    font-weight: 500;\n    font-size: 11px;\n    margin-top: 12px;\n    margin-bottom: 4px;\n    color: #666;\n  }\n  \n  .token-copy-button {\n    font-size: 10px;\n    padding: 2px 6px;\n    background: #f5f5f5;\n    border: 1px solid #ddd;\n    border-radius: 3px;\n    cursor: pointer;\n    margin-left: 4px;\n  }\n  \n  .token-copy-button:hover {\n    background: #e5e5e5;\n  }\n  \n  \n  /* Reference visualization */\n  .reference-visualization {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px;\n    background: #f5f5f5;\n    border-radius: 4px;\n  }\n  \n  .reference-token-wrapper,\n  .reference-target-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    min-width: 100px;\n  }\n  \n  .reference-token-wrapper {\n    color: #0366d6;\n    font-family: monospace;\n    font-size: 11px;\n  }\n  \n  .reference-target-wrapper {\n    color: #22863a;\n    font-family: monospace;\n    font-size: 11px;\n  }\n  \n  .reference-preview {\n    margin-top: 4px;\n    width: 24px;\n    height: 24px;\n    border-radius: 4px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n  }\n  \n  .reference-arrow {\n    font-size: 18px;\n    color: #0366d6;\n    margin: 0 8px;\n  }\n  \n  /* Responsive adjustments */\n  @media (max-width: 600px) {\n    .token-preview-item {\n      flex: 1 0 100%;\n      max-width: 100%;\n    }\n  }",""]);const s=a},448:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* Sidebar Toggle Button Styles */\n\n.sidebar-toggle {\n  width: 32px;\n  color: var(--color-gray-600);\n  height: 32px;\n  padding: 0px;\n  background-color: transparent;\n}\n\n.sidebar-toggle:hover {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-800);\n}",""]);const s=a},451:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/**\n * JSON Editor and Viewer Components\n * Combined styles for JSON editing, viewing, and preview components\n */\n\n/* Common styles for JSON containers */\n.json-container,\n.json-editor-container,\n.json-viewer-wrapper {\n  border: 1px solid var(--color-gray-300);\n  border-radius: var(--radius-md);\n  background-color: var(--color-white);\n  overflow: hidden;\n}\n\n/* JSON Editor Container */\n.json-editor-container {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  position: relative; /* For absolute positioned help panel */\n  max-height: 70vh; /* Limit height and ensure it's scrollable */\n  overflow: hidden; /* Hide overflow to prevent double scrollbars */\n  background-color: #1e1e1e; /* Dark background for VSCode-like theme */\n  color: #d4d4d4; /* Light text for dark theme */\n}\n\n/* JSON Viewer Wrapper */\n.json-viewer-wrapper {\n  font-family: var(--font-family-monospace);\n  font-size: var(--font-size-xs);\n  line-height: 1.5;\n  overflow: auto;\n  position: relative;\n  max-height: 70vh; /* Ensure it's scrollable */\n}\n\n/* Editor content container with line numbers */\n.json-editor-content {\n  display: flex;\n  position: relative;\n  min-height: 100px;\n  overflow: hidden; /* Hide overflow for nested elements */\n  flex: 1; /* Take up available space */\n  background-color: #1e1e1e; /* Dark background for editor */\n}\n\n/* Editor body - main content area */\n.json-editor-body {\n  flex: 1;\n  overflow: auto; /* Make scrollable */\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n\n/* Line numbers gutter */\n.line-numbers-gutter,\n.line-numbers {\n  flex: 0 0 auto;\n  width: 40px;\n  background-color: #1e1e1e; /* Match editor background */\n  border-right: 1px solid #333333; /* Darker border for dark theme */\n  padding: 10px 0;\n  user-select: none;\n  overflow: hidden;\n  text-align: right;\n  color: #858585; /* Muted color for line numbers */\n  font-size: var(--font-size-xs);\n  font-family: var(--font-family-monospace);\n}\n\n.line-number {\n  padding: 0 8px 0 0;\n  color: #858585; /* Muted color for line numbers */\n  font-size: var(--font-size-xs);\n}\n\n/* Editable textarea */\n.json-editor-textarea {\n  flex: 1;\n  min-width: 0;\n  width: 100%;\n  min-height: 300px; /* Ensure minimum height */\n  border: none;\n  background-color: transparent; /* Transparent to show highlight layer */\n  font-family: var(--font-family-monospace);\n  font-size: var(--font-size-xs);\n  line-height: 1.5;\n  padding: 10px;\n  resize: none;\n  outline: none;\n  tab-size: 2;\n  white-space: pre;\n  overflow: auto !important; /* Force scrolling */\n  color: #d4d4d4; /* Light text color for dark theme */\n  caret-color: #ffffff; /* Bright cursor */\n  z-index: 2; /* Above the highlight layer */\n  height: 100%; /* Take full height */\n  position: relative; /* Ensure proper z-index handling */\n}\n\n/* For read-only mode */\n.json-editor-textarea[readonly] {\n  cursor: default;\n}\n\n/* When there's an error */\n.json-editor-textarea.json-error {\n  background-color: rgba(220, 53, 69, 0.1);\n}\n\n/* Syntax highlighting layer */\n.syntax-highlight-layer {\n  position: absolute;\n  top: 0;\n  left: 40px; /* Same as gutter width */\n  right: 0;\n  bottom: 0;\n  padding: 10px;\n  font-family: var(--font-family-monospace);\n  font-size: var(--font-size-xs);\n  line-height: 1.5;\n  pointer-events: none;\n  white-space: pre;\n  overflow: hidden; /* Don't add scrollbars to this layer */\n  tab-size: 2;\n  background-color: transparent; /* Transparent background */\n  color: transparent; /* Make text invisible */\n  z-index: 1; /* Below the textarea */\n  width: calc(100% - 40px); /* Full width minus gutter */\n  height: 100%;\n}\n\n.with-line-numbers .json-editor-textarea {\n  margin-left: 0;\n  border-left: none;\n}\n\n/* Token styles for syntax highlighting - VSCode-like dark theme */\n.token.text {\n  color: #d4d4d4; /* Default light gray for plain text */\n}\n\n.token.property {\n  color: #9cdcfe; /* Light blue for property names */\n  font-weight: normal;\n}\n\n.token.string {\n  color: #ce9178; /* Coral/pink for string values */\n}\n\n.token.color-hex {\n  color: #f2f2f2; /* White for hex color values */\n}\n\n.token.number {\n  color: #b5cea8; /* Light green for numbers */\n}\n\n.token.boolean {\n  color: #569cd6; /* Blue for booleans */\n}\n\n.token.null {\n  color: #569cd6; /* Blue for null */\n}\n\n.token.punctuation {\n  color: #d4d4d4; /* Light gray for punctuation */\n}\n\n/* Enhanced scrollbar for better UX - dark theme */\n.json-viewer-wrapper::-webkit-scrollbar,\n.json-editor-textarea::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.json-viewer-wrapper::-webkit-scrollbar-track,\n.json-editor-textarea::-webkit-scrollbar-track {\n  background: #1e1e1e; /* Match editor background */\n  border-radius: 4px;\n}\n\n.json-viewer-wrapper::-webkit-scrollbar-thumb,\n.json-editor-textarea::-webkit-scrollbar-thumb {\n  background: #424242; /* Darker gray for scrollbar */\n  border-radius: 4px;\n}\n\n.json-viewer-wrapper::-webkit-scrollbar-thumb:hover,\n.json-editor-textarea::-webkit-scrollbar-thumb:hover {\n  background: #555555; /* Lighter on hover */\n}\n\n/* JSON editor header */\n.json-editor-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 12px;\n  background-color: #252526; /* Slightly lighter than main background */\n  border-bottom: 1px solid #333333; /* Dark border */\n  color: #d4d4d4; /* Light text */\n}\n\n.json-status {\n  flex: 1;\n  font-size: 12px;\n  display: flex;\n  align-items: center;\n}\n\n.status-indicator {\n  display: inline-flex;\n  align-items: center;\n  padding: 4px 8px;\n  border-radius: 3px;\n  font-weight: 500;\n}\n\n.status-indicator::before {\n  content: \"\";\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  margin-right: 6px;\n}\n\n.status-indicator.valid {\n  color: #89d185; /* VSCode green */\n  background-color: rgba(137, 209, 133, 0.1);\n}\n\n.status-indicator.valid::before {\n  background-color: #89d185; /* VSCode green */\n}\n\n.status-indicator.invalid {\n  color: #f14c4c; /* VSCode red */\n  background-color: rgba(241, 76, 76, 0.1);\n}\n\n.status-indicator.invalid::before {\n  background-color: #f14c4c; /* VSCode red */\n}\n\n.status-indicator.pending {\n  color: #cca700; /* VSCode yellow */\n  background-color: rgba(204, 167, 0, 0.1);\n}\n\n.status-indicator.pending::before {\n  background-color: #cca700; /* VSCode yellow */\n}\n\n.json-editor-actions {\n  display: flex;\n  gap: 8px;\n}\n\n/* Button styling - dark theme */\n.json-validate-btn,\n.json-save-btn,\n.json-format-btn,\n.json-help-btn,\n.json-help-close-btn {\n  padding: 4px 12px;\n  font-size: 12px;\n  border-radius: 4px;\n  cursor: pointer;\n  border: none;\n  transition: background-color 0.15s ease-in-out;\n}\n\n.json-validate-btn,\n.json-format-btn {\n  background-color: #3a3d41; /* Dark button background */\n  color: #cccccc; /* Light button text */\n}\n\n.json-validate-btn:hover,\n.json-format-btn:hover {\n  background-color: #494d51; /* Slightly lighter on hover */\n}\n\n.json-save-btn {\n  background-color: #0e639c; /* VS Code blue */\n  color: white;\n}\n\n.json-save-btn:hover:not(:disabled) {\n  background-color: #1177bb; /* Lighter blue on hover */\n}\n\n.json-save-btn:active {\n  background-color: #1177bb;\n  transform: translateY(1px);\n}\n\n.json-save-btn:disabled {\n  background-color: #3a3d41;\n  color: #848484;\n  cursor: not-allowed;\n  opacity: 0.7;\n}\n\n.json-help-btn {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  padding: 0;\n  font-weight: bold;\n  margin-right: 8px;\n  background-color: #3a3d41; /* Dark button background */\n  color: #cccccc; /* Light button text */\n}\n\n.json-help-btn:hover {\n  background-color: #494d51; /* Slightly lighter on hover */\n}\n\n.json-help-close-btn {\n  background-color: #3a3d41; /* Dark button background */\n  color: #cccccc; /* Light button text */\n  margin-top: 12px;\n}\n\n.json-help-close-btn:hover {\n  background-color: #494d51; /* Slightly lighter on hover */\n}\n\n/* Add a visual animation when validating */\n.validating .json-validate-btn {\n  position: relative;\n  overflow: hidden;\n}\n\n.validating .json-validate-btn::after {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(\n    90deg, \n    transparent, \n    rgba(255, 255, 255, 0.2), \n    transparent\n  );\n  animation: validation-shine 1s infinite;\n}\n\n@keyframes validation-shine {\n  100% {\n    left: 100%;\n  }\n}\n\n/* JSON editor footer and messages */\n.json-editor-footer {\n  padding: 8px 12px;\n  border-top: 1px solid #333333; /* Dark border */\n  background-color: #252526; /* Slightly lighter than main background */\n  color: #d4d4d4; /* Light text */\n}\n\n.json-editor-message {\n  font-size: 12px;\n  color: #cccccc; /* Light gray text */\n  line-height: 1.4;\n}\n\n.json-editor-message.success {\n  color: #89d185; /* VSCode green */\n}\n\n.json-editor-message.error {\n  color: #f14c4c; /* VSCode red */\n}\n\n.json-editor-message.pending {\n  color: #cca700; /* VSCode yellow */\n}\n\n.json-editor-message.warning {\n  color: #cca700; /* VSCode yellow */\n}\n\n.message-details {\n  margin-top: 4px;\n  font-size: 11px;\n  padding-left: 10px;\n  border-left: 2px solid currentColor;\n  opacity: 0.9;\n}\n\n/* JSON Editor Help Panel - dark theme */\n.json-editor-help {\n  position: fixed; /* Fixed to viewport instead of absolute */\n  top: 10%; /* Position from top instead of center */\n  left: 50%;\n  transform: translateX(-50%); /* Center horizontally only */\n  background: #252526; /* Match editor header/footer */\n  border: 1px solid #3c3c3c; /* Dark border */\n  border-radius: 4px;\n  padding: 16px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5); /* Stronger shadow for dark theme */\n  z-index: 1000;\n  max-width: 500px;\n  width: 90%;\n  max-height: 80vh; /* Limit height */\n  overflow-y: auto; /* Allow scrolling if content is too long */\n  color: #d4d4d4; /* Light text */\n}\n\n.json-editor-help h4 {\n  margin-top: 0;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #3c3c3c; /* Dark border */\n  color: #ffffff; /* Bright text for heading */\n}\n\n.json-editor-help ul {\n  padding-left: 20px;\n  margin: 12px 0;\n}\n\n.json-editor-help li {\n  margin-bottom: 6px;\n  font-size: 12px;\n  line-height: 1.4;\n  color: #cccccc; /* Light text */\n}\n\n.json-editor-help li strong {\n  color: #ffffff; /* Brighter text for emphasis */\n}\n\n.json-editor-help code {\n  background: #1e1e1e; /* Match main editor background */\n  padding: 2px 4px;\n  border-radius: 3px;\n  font-family: var(--font-family-monospace);\n  font-size: 0.9em;\n  color: #9cdcfe; /* Light blue for code */\n  word-break: break-all;\n}\n\n.json-editor-help p {\n  margin: 8px 0;\n  font-size: 12px;\n  line-height: 1.5;\n  color: #cccccc; /* Light text */\n}\n\n/* JSON Preview Section */\n.preview-section {\n  margin-top: var(--space-4);\n}\n\n.preview-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: var(--space-2);\n}\n\n.preview-header h2 {\n  font-size: var(--font-size-sm);\n  margin: 0;\n}\n\n#preview-container {\n  border: 1px solid var(--color-gray-300);\n  border-radius: var(--radius-md);\n  overflow: hidden;\n  transition: max-height var(--transition-normal) var(--transition-timing);\n}\n\n#preview-container.collapsed {\n  max-height: 0;\n}\n\n#preview-content {\n  height: 300px;\n  overflow: auto;\n  margin: 0;\n  padding: var(--space-2);\n  font-family: var(--font-family-monospace);\n  font-size: var(--font-size-xs);\n  background-color: var(--color-gray-100);\n  color: var(--color-gray-800);\n  white-space: pre-wrap;\n}\n\n#toggle-preview {\n  border: none;\n  background: none;\n  cursor: pointer;\n  padding: var(--space-1) var(--space-2);\n  color: var(--color-gray-600);\n  font-size: var(--font-size-xs);\n}\n\n#toggle-preview:hover {\n  color: var(--color-gray-800);\n}\n\n/* Fix for Chrome autofill background */\n.json-editor-textarea:-webkit-autofill {\n  -webkit-text-fill-color: var(--color-gray-800);\n  transition: background-color 5000s ease-in-out 0s;\n}\n\n/* CSS for small screens */\n@media (max-width: 768px) {\n  .json-editor-actions {\n    flex-wrap: wrap;\n  }\n  \n  .json-validate-btn,\n  .json-save-btn,\n  .json-format-btn {\n    padding: 3px 8px;\n    font-size: 11px;\n  }\n  \n  .json-editor-help {\n    width: 95%;\n    max-width: 400px;\n  }\n}",""]);const s=a},520:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,'/* Export Dialog Redesign Styles */\n\n/* Base Overlay and Dialog */\n.ftm-export-dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  backdrop-filter: blur(4px);\n}\n\n.ftm-export-dialog {\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);\n  width: 700px;\n  max-width: 90%;\n  max-height: 90vh;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  animation: dialog-enter 0.2s ease-out;\n  border: 1px solid var(--color-gray-300);\n}\n\n@keyframes dialog-enter {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Dialog Header */\n.ftm-export-dialog-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 14px 20px;\n  border-bottom: 1px solid var(--color-gray-300);\n  background-color: var(--color-gray-200);\n}\n\n.ftm-export-dialog-header h2 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: var(--color-gray-800);\n}\n\n.ftm-export-close-button {\n  background: none;\n  border: none;\n  font-size: 22px;\n  cursor: pointer;\n  color: #999;\n  width: 28px;\n  height: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n\n.ftm-export-close-button:hover {\n  color: #333;\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n/* Tabs Navigation */\n.ftm-export-dialog-content-container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: hidden;\n}\n\n.ftm-export-dialog-tabs {\n  display: flex;\n  border-bottom: 1px solid #e6e6e6;\n  background-color: #f8f9fa;\n  padding: 0 24px;\n}\n\n.ftm-export-tab {\n  padding: 12px 20px;\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-gray-600);\n  background: transparent;\n  border: none;\n  border-bottom: 2px solid transparent;\n  cursor: pointer;\n  transition: all 0.1s ease;\n  position: relative;\n}\n\n.ftm-export-tab:hover {\n  color: #333;\n}\n\n.ftm-export-tab.active {\n  color: var(--color-primary);\n  border-bottom-color: var(--color-primary);\n}\n\n/* Tab Content */\n.ftm-export-dialog-content {\n  padding: 0;\n  overflow-y: auto;\n  max-height: 60vh;\n  flex: 1;\n}\n\n.ftm-export-tab-content {\n  padding: 24px;\n  display: block;\n}\n\n.ftm-export-tab-intro {\n  margin-bottom: 20px;\n}\n\n.ftm-export-tab-intro p {\n  margin: 0 0 12px 0;\n  color: #555;\n  font-size: 14px;\n}\n\n/* Sections */\n.ftm-export-dialog-section {\n  margin-bottom: 24px;\n  border: 1px solid #e6e6e6;\n  border-radius: 8px;\n  overflow: hidden;\n}\n\n.ftm-export-dialog-section h3 {\n  margin: 0;\n  padding: 16px 20px;\n  font-size: 16px;\n  font-weight: 600;\n  color: #333;\n  background-color: #f8f9fa;\n}\n\n.ftm-section-header-with-controls {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.ftm-section-header-with-controls h3,\n.ftm-section-header-with-controls h4 {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 600;\n  color: #333;\n}\n\n.ftm-section-header-with-controls h4 {\n  font-size: 14px;\n}\n\n.ftm-header-controls {\n  display: flex;\n  gap: 8px;\n}\n\n.ftm-section-description {\n  margin: 6px 0 0 0;\n  font-size: 13px;\n  color: #666;\n}\n\n/* Search */\n.ftm-export-search-container {\n  position: relative;\n  padding: 10px 16px;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.ftm-export-search-input {\n  width: 100%;\n  padding: 6px 10px 6px 26px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 13px;\n  color: #333;\n}\n\n.ftm-export-search-input:focus {\n  border-color: #0d99ff;\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(13, 153, 255, 0.15);\n}\n\n.ftm-export-search-icon {\n  position: absolute;\n  left: 24px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: #999;\n  font-size: 12px;\n}\n\n/* Selection Lists */\n.ftm-export-selection-list {\n  max-height: 450px;\n  overflow-y: auto;\n  padding: 12px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 10px;\n}\n\n/* Collection Cards */\n.ftm-export-selection-card {\n  border: 1px solid #e6e6e6;\n  border-radius: 6px;\n  padding: 0px;\n  transition: all 0.2s;\n  overflow: hidden;\n  display: block;\n}\n\n.ftm-export-selection-card:hover {\n  border-color: #ccc;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.ftm-export-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 12px;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e6e6e6;\n  cursor: pointer;\n  min-height: 40px;\n}\n\n.ftm-export-card-checkbox-container {\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  max-width: calc(100% - 40px);\n}\n\n.ftm-export-card-title {\n  margin-left: 6px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  color: #333;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ftm-export-toggle-button {\n  background: none;\n  border: none;\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  color: #666;\n  transition: all 0.2s;\n  flex-shrink: 0;\n}\n\n.ftm-export-toggle-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n  color: #333;\n}\n\n.ftm-export-toggle-icon {\n  font-size: 10px;\n}\n\n.ftm-export-mode-summary {\n  font-size: 11px;\n  color: #666;\n  margin-right: 4px;\n  display: inline-block;\n}\n\n.ftm-export-card-content {\n  padding: 8px 12px;\n  background-color: white;\n  display: none;\n}\n\n.ftm-export-modes-container.expanded {\n  display: block;\n}\n\n.ftm-export-modes-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 6px;\n}\n\n.ftm-export-modes-counter {\n  font-size: 12px;\n  color: #666;\n}\n\n.ftm-export-modes-controls {\n  display: flex;\n  gap: 4px;\n}\n\n.ftm-export-select-all-button,\n.ftm-export-deselect-all-button {\n  background: none;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 2px 6px;\n  font-size: 11px;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.ftm-export-select-all-button {\n  color: #0d99ff;\n  background-color: rgba(13, 153, 255, 0.05);\n  border-color: rgba(13, 153, 255, 0.2);\n}\n\n.ftm-export-select-all-button:hover {\n  background-color: rgba(13, 153, 255, 0.1);\n  border-color: rgba(13, 153, 255, 0.3);\n}\n\n.ftm-export-deselect-all-button {\n  color: #666;\n}\n\n.ftm-export-deselect-all-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n/* Modes Grid */\n.ftm-export-modes-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));\n  gap: 4px;\n}\n\n.ftm-export-mode-item {\n  padding: 4px 6px;\n  border: 1px solid #eee;\n  border-radius: 3px;\n  transition: all 0.2s;\n}\n\n.ftm-export-mode-item:hover {\n  background-color: #f9f9f9;\n}\n\n.ftm-export-mode-checkbox-container {\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  padding: 4px 2px;\n}\n\n.ftm-export-mode-label {\n  margin-left: 6px;\n  font-size: 12px;\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* No Search Results */\n.ftm-export-no-results {\n  padding: 24px;\n  text-align: center;\n  color: #666;\n  font-style: italic;\n}\n\n/* Format Cards */\n.ftm-export-format-cards {\n  padding: 12px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 12px;\n}\n\n.ftm-export-format-card {\n  border: 1px solid #e6e6e6;\n  border-radius: 6px;\n  overflow: hidden;\n  transition: all 0.2s;\n  cursor: pointer;\n}\n\n.ftm-export-format-card:hover {\n  border-color: #ccc;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.ftm-export-format-card.active {\n  border-color: #0d99ff;\n  box-shadow: 0 0 0 1px #0d99ff;\n}\n\n.ftm-export-format-card-header {\n  display: flex;\n  align-items: center;\n  padding: 8px 12px;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.ftm-export-format-card-header label {\n  margin-left: 6px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n}\n\n.ftm-export-format-card-content {\n  padding: 10px 12px;\n  background-color: white;\n}\n\n.ftm-export-format-card-content p {\n  margin: 0 0 8px 0;\n  font-size: 12px;\n  color: #555;\n}\n\n.ftm-export-format-example {\n  margin-bottom: 8px;\n  overflow: hidden;\n}\n\n.ftm-export-format-example pre {\n  margin: 0;\n  padding: 8px;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n  font-size: 11px;\n  color: #333;\n  overflow-x: auto;\n  max-height: 120px;\n}\n\n.ftm-export-format-benefits {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.ftm-export-benefit-tag {\n  display: inline-block;\n  padding: 3px 6px;\n  background-color: #edf8ff;\n  color: #0d99ff;\n  font-size: 11px;\n  border-radius: 3px;\n}\n\n.ftm-export-format-note {\n  margin-top: 12px;\n  padding: 8px 12px;\n  background-color: #fff9e6;\n  border-left: 3px solid #f9d100;\n  border-radius: 3px;\n  font-size: 12px;\n  color: #8a6d00;\n}\n\n/* Options Grid */\n.ftm-export-options-grid {\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 16px;\n}\n\n.ftm-export-option-card {\n  border: 1px solid #e6e6e6;\n  border-radius: 6px;\n  overflow: hidden;\n  transition: all 0.2s;\n}\n\n.ftm-export-option-card:hover {\n  border-color: #ccc;\n}\n\n.ftm-export-option-card-header {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.ftm-export-option-card-header label {\n  margin-left: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n}\n\n.ftm-export-option-card-content {\n  padding: 12px 16px;\n  background-color: white;\n}\n\n.ftm-export-option-card-content p {\n  margin: 0;\n  font-size: 13px;\n  color: #555;\n}\n\n/* Style Dictionary Options */\n.ftm-export-options-subsection {\n  padding-bottom: 20px;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.ftm-export-options-subsection:last-child {\n  border-bottom: none;\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n\n.ftm-export-platforms-grid {\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 16px;\n}\n\n.ftm-export-platform-card {\n  border: 1px solid #e6e6e6;\n  border-radius: 6px;\n  overflow: hidden;\n  transition: all 0.2s;\n  cursor: pointer;\n}\n\n.ftm-export-platform-card:hover {\n  border-color: #ccc;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.ftm-export-platform-card.active {\n  border-color: #0d99ff;\n  box-shadow: 0 0 0 1px #0d99ff;\n}\n\n.ftm-export-platform-card-header {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  background-color: #f8f9fa;\n  border-bottom: 1px solid #e6e6e6;\n}\n\n.ftm-export-platform-card-header label {\n  margin-left: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n}\n\n.ftm-export-platform-card-content {\n  padding: 16px;\n  text-align: center;\n}\n\n.ftm-export-platform-icon {\n  font-size: 24px;\n  margin-bottom: 8px;\n}\n\n.ftm-export-platform-card-content p {\n  margin: 0;\n  font-size: 13px;\n  color: #555;\n}\n\n.ftm-export-formats-grid {\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 12px;\n}\n\n/* Ensure smooth transition when showing/hiding web formats section */\n.ftm-export-dialog-section.web-formats-section {\n  transition: all 0.3s ease;\n  overflow: hidden;\n  margin-top: 16px;\n}\n\n.ftm-export-format-option {\n  display: flex;\n  align-items: flex-start;\n  padding: 12px;\n  border: 1px solid #e6e6e6;\n  border-radius: 6px;\n  transition: all 0.2s;\n  cursor: pointer;\n}\n\n.ftm-export-format-option:hover {\n  border-color: #ccc;\n  background-color: #f8f9fa;\n}\n\n.ftm-export-format-option.active {\n  border-color: #0d99ff;\n  background-color: #edf8ff;\n}\n\n.ftm-export-format-option label {\n  margin-left: 8px;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n}\n\n.ftm-export-format-name {\n  font-weight: 500;\n  font-size: 14px;\n  margin-bottom: 4px;\n}\n\n.ftm-export-format-description {\n  font-size: 12px;\n  color: #666;\n}\n\n.ftm-export-transformations-grid {\n  padding: 16px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 20px;\n}\n\n.ftm-export-transformation-group {\n  padding: 16px;\n  border: 1px solid #e6e6e6;\n  border-radius: 6px;\n}\n\n.ftm-export-transformation-group h5 {\n  margin: 0 0 12px 0;\n  font-size: 14px;\n  font-weight: 500;\n  color: #333;\n}\n\n.ftm-export-transformation-option {\n  margin-bottom: 12px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n\n.ftm-export-transformation-option:last-child {\n  margin-bottom: 0;\n}\n\n.ftm-export-transformation-option label {\n  margin-left: 8px;\n  font-size: 13px;\n  cursor: pointer;\n}\n\n.ftm-export-number-input-container {\n  display: flex;\n  align-items: center;\n  margin-left: 8px;\n}\n\n.ftm-export-number-input-container input {\n  width: 50px;\n  padding: 4px 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 13px;\n  text-align: right;\n}\n\n.ftm-export-unit {\n  margin-left: 4px;\n  font-size: 13px;\n  color: #666;\n}\n\n.ftm-export-option-description {\n  width: 100%;\n  margin: 4px 0 0 24px;\n  font-size: 12px;\n  color: #666;\n}\n\n.ftm-export-select {\n  padding: 6px 8px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 13px;\n  margin-left: 8px;\n  background-color: white;\n  min-width: 100px;\n}\n\n/* No Options Message */\n.ftm-export-default-options-content {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n}\n\n.ftm-export-no-options-message {\n  text-align: center;\n  max-width: 300px;\n}\n\n.ftm-export-message-icon {\n  font-size: 32px;\n  margin-bottom: 16px;\n}\n\n.ftm-export-no-options-message h3 {\n  margin: 0 0 12px 0;\n  font-size: 18px;\n  font-weight: 500;\n  color: #333;\n}\n\n.ftm-export-no-options-message p {\n  margin: 0 0 8px 0;\n  font-size: 14px;\n  color: #666;\n}\n\n/* Footer */\n.ftm-export-dialog-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 24px;\n  border-top: 1px solid #e6e6e6;\n  background-color: #f8f9fa;\n}\n\n.ftm-export-dialog-footer-info {\n  font-size: 14px;\n  color: #666;\n}\n\n.ftm-export-token-count {\n  font-weight: 500;\n}\n\n.ftm-export-dialog-footer-buttons {\n  display: flex;\n  gap: 12px;\n}\n\n.ftm-export-primary-button {\n  background-color: var(--color-primary);\n  color: white;\n  border: none;\n  border-radius: 6px;\n  padding: 8px 16px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.1s ease;\n}\n\n.ftm-export-primary-button:hover {\n  background-color: var(--color-primary-dark);\n}\n\n.ftm-export-secondary-button {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-800);\n  border: 1px solid var(--color-gray-300);\n  border-radius: 6px;\n  padding: 8px 16px;\n  font-size: 13px;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.1s ease;\n}\n\n.ftm-export-secondary-button:hover {\n  background-color: var(--color-gray-300);\n}\n\n/* Checkboxes and Radio Buttons */\n.ftm-export-dialog input[type="checkbox"],\n.ftm-export-dialog input[type="radio"] {\n  appearance: none;\n  background-color: #fff;\n  margin: 0;\n  font: inherit;\n  color: currentColor;\n  width: 16px;\n  height: 16px;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  display: grid;\n  place-content: center;\n  cursor: pointer;\n}\n\n.ftm-export-dialog input[type="radio"] {\n  border-radius: 50%;\n}\n\n.ftm-export-dialog input[type="checkbox"]::before,\n.ftm-export-dialog input[type="radio"]::before {\n  content: "";\n  width: 8px;\n  height: 8px;\n  transform: scale(0);\n  transition: transform 0.1s;\n  box-shadow: inset 1em 1em #0d99ff;\n}\n\n.ftm-export-dialog input[type="checkbox"]::before {\n  transform-origin: center;\n  clip-path: polygon(14% 44%, 0 65%, 50% 100%, 100% 16%, 80% 0%, 43% 62%);\n}\n\n.ftm-export-dialog input[type="radio"]::before {\n  border-radius: 50%;\n}\n\n.ftm-export-dialog input[type="checkbox"]:checked::before,\n.ftm-export-dialog input[type="radio"]:checked::before {\n  transform: scale(1);\n}\n\n.ftm-export-dialog input[type="checkbox"]:checked,\n.ftm-export-dialog input[type="radio"]:checked {\n  border-color: #0d99ff;\n  background-color: white;\n}\n\n.ftm-export-dialog input[type="checkbox"]:focus,\n.ftm-export-dialog input[type="radio"]:focus {\n  outline: 2px solid rgba(13, 153, 255, 0.3);\n  outline-offset: 2px;\n}\n\n.ftm-export-dialog input[type="checkbox"]:disabled,\n.ftm-export-dialog input[type="radio"]:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* Responsive Adjustments */\n@media (max-width: 640px) {\n  .ftm-export-dialog {\n    width: 95%;\n    max-height: 85vh;\n  }\n  \n  .ftm-export-dialog-header h2 {\n    font-size: 18px;\n  }\n  \n  .ftm-export-tab {\n    padding: 10px 12px;\n    font-size: 13px;\n  }\n  \n  .ftm-export-platforms-grid,\n  .ftm-export-formats-grid,\n  .ftm-export-transformations-grid,\n  .ftm-export-options-grid {\n    grid-template-columns: 1fr;\n  }\n  \n  .ftm-export-modes-grid {\n    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\n  }\n  \n  /* Keep format cards in 2 columns even on mobile */\n  .ftm-export-format-cards {\n    grid-template-columns: 1fr 1fr;\n    gap: 8px;\n    padding: 10px;\n  }\n  \n  /* Make the format cards even more compact on mobile */\n  .ftm-export-format-card-header {\n    padding: 6px 10px;\n  }\n  \n  .ftm-export-format-card-content {\n    padding: 8px 10px;\n  }\n}',""]);const s=a},529:(n,e,t)=>{t.d(e,{A:()=>j});var o=t(601),r=t.n(o),i=t(314),a=t.n(i),s=t(734),l=t(339),c=t(965),d=t(448),p=t(67),m=t(63),g=t(235),u=t(266),f=t(396),h=t(566),x=t(28),v=t(921),b=t(645),y=t(760),w=t(901),k=t(116),C=t(451),E=t(520),$=t(346),S=t(550),z=a()(r());z.i(s.A),z.i(l.A),z.i(c.A),z.i(d.A),z.i(p.A),z.i(m.A),z.i(g.A),z.i(u.A),z.i(f.A),z.i(h.A),z.i(x.A),z.i(v.A),z.i(b.A),z.i(y.A),z.i(w.A),z.i(k.A),z.i(C.A),z.i(E.A),z.i($.A),z.i(S.A),z.push([n.id,"/**\n * Main stylesheet entry point\n * Imports all component and layout styles\n * Updated to include the JSON viewer styles\n */\n\n/* Base styles */\n\n/* Layout styles */\n\n/* Component styles */ /* Added sidebar toggle component styles */ /* Combined action buttons styles */ /* Combined JSON editor/viewer styles */ /* Added export dialog styles */ /* Added resize handle styles */ /* Added settings modal styles */\n\n/* Add the import for reference tokens styles */\n/* @import './components/referenceTokens.css';*/",""]);const j=z},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},550:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* Settings Modal Styles */\n\n.settings-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.settings-modal-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(2px);\n}\n\n.settings-modal-content {\n  position: relative;\n  width: 360px;\n  max-width: 90%;\n  max-height: 80vh;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  z-index: 1;\n}\n\n.settings-modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16px 20px;\n  border-bottom: 1px solid var(--color-gray-300);\n}\n\n.settings-modal-title {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--color-gray-900);\n}\n\n.settings-modal-close {\n  background: none;\n  border: none;\n  font-size: 24px;\n  color: var(--color-gray-600);\n  cursor: pointer;\n  padding: 0;\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.settings-modal-close:hover {\n  color: var(--color-gray-900);\n}\n\n.settings-modal-body {\n  padding: 20px;\n  overflow-y: auto;\n  max-height: calc(80vh - 60px);\n}\n\n/* Settings Sections */\n.settings-section {\n  margin-bottom: 24px;\n}\n\n.settings-section:last-child {\n  margin-bottom: 0;\n}\n\n.settings-heading {\n  font-size: 14px;\n  font-weight: 600;\n  margin-bottom: 12px;\n  color: var(--color-gray-800);\n}\n\n.settings-options {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.settings-option {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.settings-option label {\n  font-size: 13px;\n  color: var(--color-gray-700);\n  cursor: pointer;\n}\n\n/* Reference Status */\n.references-section {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.references-section .settings-heading {\n  margin-bottom: 0;\n}\n\n.reference-counter {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-success);\n}\n\n.reference-counter.has-unresolved {\n  color: var(--color-warning);\n}\n\n/* Action Buttons */\n.action-buttons {\n  display: flex;\n  gap: 12px;\n}\n\n.extract-btn, .export-btn {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 10px;\n  font-size: 13px;\n  font-weight: 500;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: none;\n}\n\n.extract-btn {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-700);\n}\n\n.extract-btn:hover {\n  background-color: var(--color-gray-300);\n}\n\n.export-btn {\n  background-color: var(--color-primary);\n  color: white;\n}\n\n.export-btn:hover {\n  background-color: var(--color-primary-dark);\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .settings-modal-content {\n    width: 320px;\n  }\n}",""]);const s=a},566:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* src/ui/styles/components/toggle.css */\n/**\n * Segmented toggle component styles\n */\n\n .segmented-toggle {\n    display: flex;\n    background-color: #f0f0f0;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    overflow: hidden;\n    height: 28px;\n  }\n  \n  .segmented-toggle-option {\n    padding: 4px 12px;\n    cursor: pointer;\n    font-size: 12px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 80px;\n    transition: background-color 0.2s, color 0.2s;\n    user-select: none;\n  }\n  \n  .segmented-toggle-option:not(:last-child) {\n    border-right: 1px solid #ddd;\n  }\n  \n  .segmented-toggle-option.active {\n    background-color: #18a0fb;\n    color: white;\n    font-weight: 500;\n  }\n  \n  .segmented-toggle-option:not(.active):hover {\n    background-color: #e5e5e5;\n  }\n  \n  /* Form controls */\n  .checkbox-item {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n  \n  .checkbox-item label {\n    margin-left: 8px;\n    cursor: pointer;\n  }\n  \n  .radio-item {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n  }\n  \n  .radio-item label {\n    margin-left: 8px;\n    cursor: pointer;\n  }",""]);const s=a},601:n=>{n.exports=function(n){return n[1]}},645:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/**\n * Collection Selector Component Styles\n * Simplified and improved styling for collections and modes\n */\n\n/* Collections container */\n.collections-container {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    padding: 8px 0;\n  }\n  \n  /* Collection card */\n  .collection-card {\n    border-radius: 6px;\n    overflow: hidden;\n    background-color: white;\n    border: 1px solid var(--color-gray-300);\n    padding: 10px;\n    cursor: pointer;\n    transition: all 0.1s ease;\n    display: flex;\n    align-items: stretch;\n  }\n    \n  .collection-card:hover {\n    border-color: var(--color-primary-light);\n    background-color: var(--color-primary-50);\n  }\n    \n  .collection-card.active {\n    background-color: var(--color-primary-50);\n    border-color: var(--color-primary);\n  }\n  \n  /* Collection content - left column */\n  .collection-content {\n    flex: 1;\n    overflow: hidden;\n    min-width: 0; /* Important for text overflow to work */\n  }\n  \n  /* Collection header */\n  .collection-header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 8px;\n    gap: 8px;\n  }\n  \n  .collection-name {\n    font-size: 13px;\n    font-weight: 500;\n    color: var(--color-gray-800);\n    flex-grow: 1;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  \n  .collection-card.active .collection-name {\n    color: var(--color-primary-dark);\n  }\n  \n  .collection-count {\n    padding: 2px 6px;\n    background-color: var(--color-gray-200);\n    border-radius: 12px;\n    font-size: 10px;\n    color: var(--color-gray-700);\n    margin-left: 8px;\n    flex-shrink: 0;\n  }\n  \n  .collection-card.active .collection-count {\n    background-color: var(--color-primary);\n    color: white;\n  }\n\n  /* Collection click indicator - right column */\n  .collection-click-indicator {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--color-gray-500);\n    transition: all 0.2s ease;\n    width: 24px;\n    margin-left: 8px;\n  }\n\n  .collection-card:hover .collection-click-indicator {\n    color: var(--color-gray-700);\n  }\n\n  .collection-card.active .collection-click-indicator {\n    color: var(--color-primary);\n  }\n  \n  /* Modes container with chip design */\n  .modes-container {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 5px;\n    margin-top: 10px;\n  }\n  \n  .mode-chip {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    padding: 2px 8px;\n    font-size: 11px;\n    border-radius: 12px;\n    background-color: var(--color-gray-200);\n    color: var(--color-gray-700);\n    cursor: pointer;\n    user-select: none;\n    transition: all 0.1s ease;\n    border: 1px solid transparent;\n  }\n  \n  .mode-chip:hover {\n    background-color: var(--color-gray-300);\n  }\n    \n  .mode-chip.active {\n    background-color: var(--color-primary);\n    color: white;\n    border-color: var(--color-primary);\n    font-weight: 500;\n  }\n  \n  /* Active collection has white background chips */\n  .collection-card.active .mode-chip {\n    background-color: white;\n    color: var(--color-gray-700);\n    border-color: var(--color-gray-300);\n  }\n  \n  .collection-card.active .mode-chip.active {\n    background-color: white;\n    color: var(--color-primary-dark);\n    border-color: var(--color-primary);\n    font-weight: 600;\n  }\n  \n  /* Hide the modes if there's only one mode */\n  .single-mode {\n    display: none;\n  }\n  \n  /* Section title */\n  .section-title {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--color-gray-800);\n    margin: 0 0 12px 0;\n    padding-bottom: 6px;\n    border-bottom: 1px solid var(--color-gray-300);\n  }\n  \n  /* Empty state */\n  .empty-collections {\n    padding: 20px;\n    text-align: center;\n    color: var(--color-gray-500);\n    font-style: italic;\n    background-color: var(--color-gray-100);\n    border-radius: 6px;\n  }",""]);const s=a},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},734:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,'/* src/ui/styles/base.css */\n/**\n * Base styles for the Figma Token Manager\n * Contains reset and global styles\n */\n\n :root {\n  /* Color system */\n  --color-primary: #0d99ff;\n  --color-primary-light: #66c4ff;\n  --color-primary-dark: #007be0;\n  --color-primary-50: #e9f5ff;\n  \n  --color-secondary: #6F6F6F;\n  --color-secondary-light: #9E9E9E;\n  --color-secondary-dark: #444444;\n  \n  --color-success: #14ae5c;\n  --color-info: #0d99ff;\n  --color-warning: #ffb800;\n  --color-danger: #f24822;\n  \n  --color-gray-100: #f9f9f9;\n  --color-gray-200: #f2f2f2;\n  --color-gray-300: #e5e5e5;\n  --color-gray-400: #d9d9d9;\n  --color-gray-500: #bdbdbd;\n  --color-gray-600: #8c8c8c;\n  --color-gray-700: #5e5e5e;\n  --color-gray-800: #333333;\n  --color-gray-900: #0f0f0f;\n  \n  --color-white: #FFFFFF;\n  --color-black: #000000;\n  \n  /* Typography - using system fonts only due to Figma CSP restrictions */\n  --font-family-base: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;\n  --font-family-monospace: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n  \n  /* Keep the rest of your variables the same */\n  \n  --font-size-xs: 0.75rem;   /* 12px */\n  --font-size-sm: 0.875rem;  /* 14px */\n  --font-size-md: 1rem;      /* 16px */\n  --font-size-lg: 1.125rem;  /* 18px */\n  --font-size-xl: 1.25rem;   /* 20px */\n  --font-size-2xl: 1.5rem;   /* 24px */\n  --font-size-3xl: 1.875rem; /* 30px */\n  --font-size-4xl: 2.25rem;  /* 36px */\n  \n  --font-weight-light: 300;\n  --font-weight-normal: 400;\n  --font-weight-medium: 500;\n  --font-weight-semibold: 600;\n  --font-weight-bold: 700;\n  \n  --line-height-tight: 1.25;\n  --line-height-snug: 1.375;\n  --line-height-normal: 1.5;\n  --line-height-relaxed: 1.625;\n  --line-height-loose: 2;\n  \n  /* Spacing system */\n  --space-1: 0.25rem;  /* 4px */\n  --space-2: 0.5rem;   /* 8px */\n  --space-3: 0.75rem;  /* 12px */\n  --space-4: 1rem;     /* 16px */\n  --space-5: 1.25rem;  /* 20px */\n  --space-6: 1.5rem;   /* 24px */\n  --space-8: 2rem;     /* 32px */\n  --space-10: 2.5rem;  /* 40px */\n  --space-12: 3rem;    /* 48px */\n  --space-16: 4rem;    /* 64px */\n  --space-20: 5rem;    /* 80px */\n  --space-24: 6rem;    /* 96px */\n  \n  /* Border radius */\n  --radius-sm: 0.125rem;  /* 2px */\n  --radius-md: 0.25rem;   /* 4px */\n  --radius-lg: 0.5rem;    /* 8px */\n  --radius-xl: 1rem;      /* 16px */\n  --radius-full: 9999px;\n  \n  /* Shadows */\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);\n  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  \n  /* Transitions */\n  --transition-fast: 150ms;\n  --transition-normal: 300ms;\n  --transition-slow: 500ms;\n  --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);\n  \n  /* Z-index */\n  --z-index-dropdown: 1000;\n  --z-index-sticky: 1020;\n  --z-index-fixed: 1030;\n  --z-index-modal-backdrop: 1040;\n  --z-index-modal: 1050;\n  --z-index-popover: 1060;\n  --z-index-tooltip: 1070;\n  \n  /* Component-specific variables */\n  --header-height: 60px;\n  --sidebar-width: 280px;\n  --footer-height: 40px;\n  --token-preview-item-height: 48px;\n  --token-preview-grid-gap: var(--space-4);\n  \n  /* Token specific variables */\n  --token-item-border-color: var(--color-gray-300);\n  --token-item-bg: var(--color-white);\n  --token-item-hover-bg: var(--color-gray-100);\n  --token-item-border-radius: var(--radius-md);\n  --token-item-padding: var(--space-3);\n}\n\n/* Reset */\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: var(--font-family-base);\n  margin: 0;\n  padding: 0; /* Updated to remove padding for full screen layout */\n  font-size: var(--font-size-sm);\n  color: var(--color-gray-800);\n  overflow: hidden; /* Updated to prevent scrolling on body */\n  height: 100vh;\n  line-height: 1.5;\n}\n\nh2 {\n  margin-bottom: var(--space-4);\n  font-size: var(--font-size-lg);\n  font-weight: var(--font-weight-semibold);\n}\n\nh3 {\n  margin-top: var(--space-4);\n  margin-bottom: var(--space-2);\n  font-size: var(--font-size-md);\n  font-weight: var(--font-weight-medium);\n}\n\np {\n  margin-bottom: var(--space-4);\n  color: var(--color-gray-600);\n}\n\nbutton {\n  background-color: var(--color-primary);\n  color: var(--color-white);\n  border: none;\n  border-radius: var(--radius-md);\n  padding: var(--space-2) var(--space-4);\n  margin-right: var(--space-2);\n  cursor: pointer;\n  font-weight: var(--font-weight-medium);\n}\n\nbutton:hover {\n  background-color: var(--color-primary-dark);\n}\n\nbutton:disabled {\n  background-color: var(--color-gray-400);\n  cursor: not-allowed;\n}\n\ninput, select, textarea {\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n}\n\npre {\n  background-color: var(--color-gray-100);\n  padding: var(--space-2) var(--space-3);\n  border-radius: var(--radius-md);\n  overflow: auto;\n  font-family: var(--font-family-monospace);\n  font-size: var(--font-size-xs);\n}\n\n/* Status indicators */\n#status {\n  margin-top: var(--space-4);\n  padding: var(--space-2) var(--space-3);\n  border-radius: var(--radius-md);\n  font-size: var(--font-size-sm);\n}\n\n.info {\n  background-color: rgba(23, 162, 184, 0.1);\n  color: var(--color-info);\n}\n\n.success {\n  background-color: rgba(40, 167, 69, 0.1);\n  color: var(--color-success);\n}\n\n.warning {\n  background-color: rgba(255, 193, 7, 0.1);\n  color: var(--color-warning);\n}\n\n.error {\n  background-color: rgba(220, 53, 69, 0.1);\n  color: var(--color-danger);\n}\n\n/* Loading indicator */\n.loading {\n  display: flex;\n  align-items: center;\n  font-style: italic;\n  color: var(--color-gray-600);\n}\n\n.spinner {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  margin-right: var(--space-2);\n  border: 2px solid var(--color-gray-200);\n  border-top: 2px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Utility classes */\n.select-all {\n  font-size: var(--font-size-xs);\n  color: var(--color-primary);\n  cursor: pointer;\n  margin-left: var(--space-4);\n}\n\n.pill {\n  display: inline-block;\n  padding: var(--space-1) var(--space-2);\n  margin-right: var(--space-1);\n  border-radius: var(--radius-full);\n  font-size: var(--font-size-xs);\n  font-weight: var(--font-weight-medium);\n  background-color: var(--color-primary-light);\n  color: var(--color-primary-dark);\n}\n\n/* Main panel styles from main.css */\n.main-panel-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n}\n\n.main-panel-title {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--color-gray-900);\n}\n\n.main-panel-actions {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n/* Grouping select removed as requested */\n\n.reference-warning {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 8px 12px;\n  background-color: rgba(255, 193, 7, 0.1);\n  border-radius: 4px;\n  margin-bottom: 16px;\n  border-left: 4px solid var(--color-warning);\n  color: var(--color-warning);\n}\n\n/* Token views */\n.token-view {\n  width: 100%;\n}\n\n.json-view {\n  background-color: var(--color-gray-100);\n  border-radius: 4px;\n  overflow: auto;\n}\n\n#json-content {\n  font-family: var(--font-family-monospace);\n  font-size: 12px;\n  padding: 16px;\n  white-space: pre-wrap;\n  color: var(--color-gray-900);\n}',""]);const s=a},760:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,'/**\n * Status indicator styles\n * Combined styles for status indicators and messages\n */\n\n/* Common styles for status indicators */\n.status {\n  margin-top: var(--space-4);\n  padding: var(--space-2) var(--space-3);\n  border-radius: var(--radius-md);\n  font-size: var(--font-size-sm);\n  margin-bottom: var(--space-4);\n  display: flex;\n  align-items: center;\n}\n\n.status.info {\n  background-color: #e8f4fd;\n  color: var(--color-info);\n  border-left: 4px solid var(--color-info);\n}\n\n.status.success {\n  background-color: #e6ffed;\n  color: var(--color-success);\n  border-left: 4px solid var(--color-success);\n}\n\n.status.warning {\n  background-color: #fff8e1;\n  color: var(--color-warning);\n  border-left: 4px solid var(--color-warning);\n}\n\n.status.error {\n  background-color: #ffeef0;\n  color: var(--color-danger);\n  border-left: 4px solid var(--color-danger);\n}\n\n/* Loading indicator */\n.loading {\n  display: flex;\n  align-items: center;\n  font-style: italic;\n  color: var(--color-gray-600);\n}\n\n.spinner {\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  margin-right: var(--space-2);\n  border: 2px solid var(--color-gray-200);\n  border-top: 2px solid var(--color-primary);\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Status indicator specific styles */\n.status-indicator {\n  display: inline-flex;\n  align-items: center;\n  padding: 3px 8px;\n  border-radius: 12px;\n  font-size: 12px;\n  font-weight: 500;\n}\n\n.status-indicator::before {\n  content: "";\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  margin-right: 6px;\n}\n\n.status-indicator.valid {\n  background-color: rgba(40, 167, 69, 0.1);\n  color: var(--color-success);\n}\n\n.status-indicator.valid::before {\n  background-color: var(--color-success);\n}\n\n.status-indicator.invalid {\n  background-color: rgba(220, 53, 69, 0.1);\n  color: var(--color-danger);\n}\n\n.status-indicator.invalid::before {\n  background-color: var(--color-danger);\n}\n\n.status-indicator.pending {\n  background-color: rgba(255, 193, 7, 0.1);\n  color: var(--color-warning);\n}\n\n.status-indicator.pending::before {\n  background-color: var(--color-warning);\n}\n\n.status-indicator.warning {\n  background-color: rgba(255, 153, 0, 0.1);\n  color: var(--color-warning);\n}\n\n.status-indicator.warning::before {\n  background-color: var(--color-warning);\n}',""]);const s=a},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},901:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/**\n * Styles for action buttons\n */\n\n/* Button containers */\n.button-primary,\n.button-secondary {\n  border: none;\n  border-radius: 6px;\n  padding: 6px 12px;\n  font-weight: 500;\n  cursor: pointer;\n  font-size: 12px;\n  transition: background-color 0.1s ease, opacity 0.1s ease;\n  height: 32px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.button-primary {\n  background-color: var(--color-primary);\n  color: var(--color-white);\n}\n\n.button-primary:hover {\n  background-color: var(--color-primary-dark);\n}\n\n.button-primary:active {\n  transform: translateY(1px);\n}\n\n.button-secondary {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-800);\n  border: 1px solid var(--color-gray-300);\n}\n\n.button-secondary:hover {\n  background-color: var(--color-gray-300);\n}\n\n.button-secondary:active {\n  transform: translateY(1px);\n}\n\n/* Header action buttons */\n.action-button {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 6px 12px;\n  border-radius: 6px;\n  border: 1px solid var(--color-gray-300);\n  font-size: 12px;\n  font-weight: 500;\n  cursor: pointer;\n  height: 32px;\n}\n\n/* Extract button */\n.extract-button {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-800);\n}\n\n.extract-button:hover {\n  background-color: var(--color-gray-300);\n}\n\n/* Export button */\n.export-button {\n  background-color: var(--color-primary);\n  color: var(--color-white);\n  border: none;\n}\n\n.export-button:hover {\n  background-color: var(--color-primary-dark);\n}\n\n\n.settings-button {\n  background-color: transparent;\n  color: var(--color-gray-600);\n  width: 32px;\n  height: 32px;\n  padding: 0px;\n}\n  \n.settings-button:hover {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-800);\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .action-button {\n    padding: 6px 10px;\n  }\n  \n  .action-button-icon svg {\n    width: 14px;\n    height: 14px;\n  }\n  \n  .action-button-text {\n    font-size: var(--font-size-xs);\n  }\n}\n",""]);const s=a},921:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,'/* src/ui/styles/components/forms.css */\n/**\n * Form controls and input styles\n */\n\n/* Input fields */\ninput[type="text"],\ninput[type="number"],\nselect,\ntextarea {\n  padding: var(--space-2);\n  border: 1px solid var(--color-gray-400);\n  border-radius: var(--radius-md);\n  font-size: var(--font-size-sm);\n  width: 100%;\n  box-sizing: border-box;\n  font-family: var(--font-family-base);\n}\n\ninput[type="text"]:focus,\ninput[type="number"]:focus,\nselect:focus,\ntextarea:focus {\n  border-color: var(--color-primary);\n  outline: none;\n  box-shadow: 0 0 0 2px var(--color-primary-light);\n}\n\n/* Dropdowns and selects */\n.dropdown-select {\n  padding: 6px 8px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  background-color: white;\n  font-size: 12px;\n}\n\n/* Button groups */\n.export-options {\n  margin-top: 16px;\n  display: flex;\n  gap: 8px;\n}\n\n/* Form groups */\n.form-group {\n  margin-bottom: var(--space-4);\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: var(--space-2);\n  font-weight: var(--font-weight-medium);\n  font-size: 12px;\n  color: var(--color-gray-800);\n}\n\n/* Form layout */\n.form-row {\n  display: flex;\n  gap: 8px;\n  margin-bottom: 12px;\n}\n\n.form-row > div {\n  flex: 1;\n}\n\n/* Checkboxes and radio buttons with improved styling */\n.checkbox-item,\n.radio-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n}\n\n.checkbox-item input[type="checkbox"],\n.radio-item input[type="radio"] {\n  margin-right: var(--space-2);\n}\n\n.checkbox-item label,\n.radio-item label {\n  margin-left: 0;\n  cursor: pointer;\n  font-size: 12px;\n}',""]);const s=a},965:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),i=t(314),a=t.n(i)()(r());a.push([n.id,"/* Header Component Styles */\n\n.header-content {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  box-sizing: border-box;\n  padding: 0 16px;\n}\n\n.header-left {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.header-title {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--color-gray-800);\n}\n  \n.header-controls {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n  \n.header-action-btn {\n  background: none;\n  border: none;\n  color: var(--color-gray-600);\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-left: 8px;\n}\n  \n.header-action-btn:hover {\n  background-color: var(--color-gray-200);\n  color: var(--color-gray-800);\n}\n\n\n/* Button styles moved to actionButtons.css */\n  \n.view-toggle {\n  display: flex;\n  background-color: var(--color-gray-200);\n  border-radius: 6px;\n  overflow: hidden;\n  height: 32px;\n  border: 1px solid var(--color-gray-300);\n}\n  \n.view-toggle-btn {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 0 12px;\n  background: none;\n  border: none;\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--color-gray-700);\n  cursor: pointer;\n  transition: all 0.1s ease;\n  height: 32px;\n  margin: 0;\n}\n  \n.view-toggle-btn:hover {\n  background-color: var(--color-gray-300);\n}\n  \n.view-toggle-btn.active {\n  background-color: var(--color-primary);\n  color: white;\n  margin: 0;\n}\n  \n.view-toggle-btn svg {\n  opacity: 0.8;\n}\n\n/* Responsive adjustments */\n\n  .header-content {\n    width: 100%;\n    max-width: 100%;\n  }\n\n  .header-title {\n    font-size: 14px;\n  }\n  \n  .view-toggle-btn {\n    padding: 0 8px;\n    font-size: 11px;\n  }\n  \n  .view-toggle-btn svg {\n    display: none;\n  }\n",""]);const s=a}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var o=t(72),r=t.n(o),i=t(825),a=t.n(i),s=t(659),l=t.n(s),c=t(56),d=t.n(c),p=t(540),m=t.n(p),g=t(113),u=t.n(g),f=t(529),h={};function x(n){const e=document.createElement("button");e.className=`action-button ${n.type}-button`,e.title=n.title;const t="extract"===n.type?'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M23 4V10H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M1 20V14H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M20.49 9C19.2456 6.94681 17.3065 5.36266 15.0186 4.5153C12.7306 3.66794 10.2249 3.61133 7.89923 4.35544C5.57361 5.09955 3.56028 6.60066 2.1872 8.61679C0.814125 10.6329 0.155969 13.0432 0.31 15.46L1 20M23.69 8.54C23.8445 10.9567 23.1871 13.3671 21.8146 15.3832C20.4421 17.3993 18.4293 18.9003 16.1042 19.6445C13.7792 20.3886 11.2739 20.332 8.98669 19.4847C6.69943 18.6374 4.76083 17.0532 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>':'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>',o="extract"===n.type?"Extract":"Export";return e.innerHTML=`\n    <span class="action-button-icon">${t}</span>\n    <span class="action-button-text">${o}</span>\n  `,e.addEventListener("click",n.onClick),{element:e}}h.styleTagTransform=u(),h.setAttributes=d(),h.insert=l().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=m(),r()(f.A,h),f.A&&f.A.locals&&f.A.locals;class v{constructor(n,e){this.collections=[],this.selectionState={selectedCollections:[],selectedModes:new Map,activeCollection:null};const t=document.getElementById(n);if(!t)throw new Error(`Container element #${n} not found`);this.containerEl=t,this.callbacks=e}initialize(n){return n?(this.collections=this.extractCollections(n),this.selectionState.selectedCollections=this.collections.map((n=>n.id)),this.collections.length>0&&(this.selectionState.activeCollection=this.collections[0].id,this.collections.forEach((n=>{n.modes.length>0&&this.selectionState.selectedModes.set(n.id,n.modes[0])}))),this.render(),this.selectionState):(this.renderEmptyState(),this.selectionState)}extractCollections(n){const e=[];for(const t in n){const o=Object.keys(n[t]),r={};for(const e of o)r[e]=this.countTokens(n[t][e]);e.push({id:t,name:t,modes:o,tokenCounts:r})}return e}countTokens(n){let e=0;const t=n=>{if(n&&"object"==typeof n)if(void 0===n.$value||void 0===n.$type)for(const e in n)"object"==typeof n[e]&&null!==n[e]&&t(n[e]);else e++};return t(n),e}renderEmptyState(){this.containerEl.innerHTML='<div class="empty-collections">No collections found</div>'}render(){const n=this.collections.map((n=>{const e=this.selectionState.selectedModes.get(n.id),t=n.id===this.selectionState.activeCollection,o=e?n.tokenCounts[e]:0;return function(n,e,t,o,r){let i="";if(t.length>1){const e=t.map((e=>`\n          <div class="mode-chip ${e===o?"active":""}" \n               data-collection="${n}" \n               data-mode="${e}">\n            ${e}\n          </div>\n        `)).join("");i=`\n        <div class="modes-container" data-collection="${n}">\n          ${e}\n        </div>\n      `}else 1===t.length&&(i=`\n        <div class="modes-container single-mode" data-collection="${n}">\n          <div class="mode-chip active" \n               data-collection="${n}" \n               data-mode="${t[0]}">\n            ${t[0]}\n          </div>\n        </div>\n      `);return`\n      <div class="collection-card ${e?"active":""}" data-collection="${n}">\n        <div class="collection-content">\n          <div class="collection-header">\n            <div class="collection-name">${n}</div>\n            <div class="collection-count">${r} tokens</div>\n          </div>\n          ${i}\n        </div>\n        <div class="collection-click-indicator">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M6 3L11 8L6 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n          </svg>\n        </div>\n      </div>\n    `}(n.id,t,n.modes,e,o)})).join("");this.containerEl.innerHTML=function(n){return`\n      <h2 class="section-title">Collections & Modes</h2>\n      <div class="collections-container">\n        ${n}\n      </div>\n    `}(n),this.attachEventListeners()}attachEventListeners(){this.containerEl.querySelectorAll(".collection-card").forEach((n=>{n.addEventListener("click",(e=>{if(e.target.classList.contains("mode-chip"))return;const t=n.getAttribute("data-collection");t&&this.setActiveCollection(t)}))})),this.containerEl.querySelectorAll(".mode-chip").forEach((n=>{n.addEventListener("click",(e=>{e.stopPropagation();const t=n.getAttribute("data-collection"),o=n.getAttribute("data-mode");t&&o&&this.selectMode(t,o)}))}))}setActiveCollection(n){if(this.selectionState.activeCollection===n)return;this.selectionState.activeCollection=n,this.containerEl.querySelectorAll(".collection-card").forEach((n=>n.classList.remove("active")));const e=this.containerEl.querySelector(`.collection-card[data-collection="${n}"]`);e&&e.classList.add("active"),this.callbacks.onActiveCollectionChange(n)}selectMode(n,e){if(this.selectionState.selectedModes.get(n)===e)return;this.selectionState.selectedModes.set(n,e),this.containerEl.querySelectorAll(`.mode-chip[data-collection="${n}"]`).forEach((n=>{n.classList.remove("active"),n.getAttribute("data-mode")===e&&n.classList.add("active")}));const t=this.collections.find((e=>e.id===n));if(t){const o=this.containerEl.querySelector(`.collection-card[data-collection="${n}"] .collection-count`);if(o){const n=t.tokenCounts[e]||0;o.textContent=`${n} tokens`}}this.callbacks.onModeChange(n,e)}getSelectionState(){return Object.assign({},this.selectionState)}updateSelectedMode(n,e){var t;(null===(t=this.collections.find((e=>e.id===n)))||void 0===t?void 0:t.modes.includes(e))?(this.selectionState.selectedModes.set(n,e),this.selectMode(n,e)):console.warn(`Mode ${e} not found in collection ${n}`)}}function b(n){return"string"==typeof n&&n.startsWith("{")&&n.endsWith("}")}function y(n){return b(n)?n.substring(1,n.length-1):null}function w(n,e="",t="",o=!1,r={}){if(!n||"object"!=typeof n)return r;if(void 0!==n.$value&&void 0!==n.$type)return function(n,e,t,o,r,i=!1){const a=e.replace(/\//g,".");n[a]={value:o,type:r,originalPath:t,isPriority:i},n[e]={value:o,type:r,originalPath:t,isPriority:i};const s=a.split(".");for(let e=s.length;e>0;e--){const a=s.slice(s.length-e).join(".");n[a]&&!i||(n[a]={value:o,type:r,originalPath:t,isPriority:i});const l=s.slice(s.length-e).join("/");n[l]&&!i||(n[l]={value:o,type:r,originalPath:t,isPriority:i})}const l=s[s.length-1];n[l]&&!i||(n[l]={value:o,type:r,originalPath:t,isPriority:i})}(r,e,t,n.$value,n.$type,o),r;for(const i in n){const a=e?`${e}/${i}`:i,s=t?`${t}.${i}`:i;"object"==typeof n[i]&&null!==n[i]&&w(n[i],a,s,o,r)}return r}function k(n,e,t){const o=[],r=[];for(const i in n)t(i,e)&&(n[i].isPriority?o.push(i):r.push(i));return[...o,...r]}function C(n,e,t,o,r,i){const a=e[n];if("string"==typeof a.value&&b(a.value)){const n=E(a.value,e,r,i);return Object.assign(Object.assign({},n),{originalReference:t,referencePath:o,resolvedFrom:a.originalPath,chain:i.concat(n.chain||[])})}return{value:a.value,type:a.type,originalReference:t,referencePath:o,isResolved:!0,resolvedFrom:a.originalPath,chain:i}}function E(n,e,t=new Set,o=[]){if(!b(n))return{value:n,type:"unknown",originalReference:n,referencePath:"",isResolved:!1};const r=y(n)||"",i=[...o,r];if(t.has(r))return{value:n,type:"reference",originalReference:n,referencePath:r,isResolved:!1,chain:i};t.add(r);const a=k(e,r,((n,e)=>n===e||n.endsWith(`.${e}`)||n.endsWith(`/${e}`)));if(a.length>0)return C(a[0],e,n,r,t,i);const s=k(e,r.includes("/")?r.replace(/\//g,"."):r.replace(/\./g,"/"),((n,e)=>n===e||n.endsWith(`.${e}`)||n.endsWith(`/${e}`)));if(s.length>0)return C(s[0],e,n,r,t,i);const l=r.split(/[\/\.]/).pop()||"";if(l!==r){const o=k(e,l,((n,e)=>n===e));if(o.length>0)return C(o[0],e,n,r,t,i)}const c=function(n,e){const t=Object.keys(e),o=t.filter((n=>e[n].isPriority)),r=t.filter((n=>!e[n].isPriority));return $(n,o)||$(n,r)}(r,e);return c?C(c,e,n,r,t,i):{value:n,type:"reference",originalReference:n,referencePath:r,isResolved:!1,chain:i}}function $(n,e){let t=null,o=0;const r=n.toLowerCase();for(const n of e){const e=n.toLowerCase();if(e.endsWith(r)){const i=r.length/e.length;i>o&&(t=n,o=i)}else{const i=r.split(/[\/\.]/),a=e.split(/[\/\.]/);if(i[i.length-1]===a[a.length-1]){const e=.5;e>o&&(t=n,o=e)}}}return t}function S(n){const{token:e,onClick:t}=n,o=document.createElement("div");o.className="token-card",o.dataset.id=e.id,o.dataset.type=e.type,o.dataset.path=e.path,e.reference&&o.classList.add("is-reference");let r="";switch(e.type){case"color":r=function(n){const e=n.reference&&n.resolvedValue?n.resolvedValue:n.value;return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        <div class="color-swatch" style="background-color: ${e}"></div>\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e);break;case"dimension":r=function(n){const e=n.reference&&n.resolvedValue?n.resolvedValue:n.value;let t="0%";if("number"==typeof e)t=`${Math.min(e,100)}%`;else if("string"==typeof e){const n=e.match(/^(\d+(\.\d+)?)/);if(n){const e=parseFloat(n[1]);t=`${Math.min(e,100)}%`}}return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        <div class="dimension-swatch">\n          <div class="dimension-bar" style="width: ${t}"></div>\n        </div>\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e);break;case"radius":case"borderRadius":r=function(n){const e=n.reference&&n.resolvedValue?n.resolvedValue:n.value;let t="0px";if("number"==typeof e)t=`${Math.min(e,24)}px`;else if("string"==typeof e){const n=e.match(/^(\d+(\.\d+)?)/);if(n){const e=parseFloat(n[1]);t=`${Math.min(e,24)}px`}else t=e}return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        <div class="radius-swatch">\n          <div class="radius-box" style="border-radius: ${t}"></div>\n          <div class="radius-label">radius</div>\n        </div>\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e);break;case"spacing":case"size":r=function(n){const e=n.reference&&n.resolvedValue?n.resolvedValue:n.value;let t="0px";if("number"==typeof e)t=`${Math.min(e,60)}px`;else if("string"==typeof e){const n=e.match(/^(\d+(\.\d+)?)/);if(n){const e=parseFloat(n[1]);t=`${Math.min(e,60)}px`}else t=e}return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        <div class="spacing-swatch">\n          <div class="spacing-box">\n            <div class="spacing-element"></div>\n            <div class="spacing-gap" style="width: ${t}"></div>\n            <div class="spacing-element"></div>\n          </div>\n          <div class="spacing-label">spacing</div>\n        </div>\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e);break;case"fontFamily":case"fontWeight":case"fontSize":case"lineHeight":case"letterSpacing":r=function(n,e){const t=n.reference&&n.resolvedValue?n.resolvedValue:n.value;let o="";switch(e){case"fontFamily":o=`<div class="font-family-sample" style="font-family: ${t}">Aa</div>`;break;case"fontWeight":o=`<div class="font-weight-sample" style="font-weight: ${t}">Aa</div>`;break;case"fontSize":let n=String(t);if("string"==typeof t&&t.match(/^\d/)){const e=parseFloat(t),o=t.replace(/[0-9.]/g,"");n=e>24?`${Math.min(e,24)}${o}`:t}o=`<div class="font-size-sample" style="font-size: ${n}">Aa</div>`;break;case"lineHeight":o=`<div class="line-height-sample">\n        <div style="line-height: ${t}">Line 1<br>Line 2</div>\n      </div>`;break;case"letterSpacing":o=`<div class="letter-spacing-sample" style="letter-spacing: ${t}">Aa</div>`}return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        ${o}\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e,e.type);break;case"shadow":case"boxShadow":r=function(n){const e=n.reference&&n.resolvedValue?n.resolvedValue:n.value;return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        <div class="shadow-sample">\n          <div class="shadow-box" style="box-shadow: ${e}"></div>\n        </div>\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e);break;default:r=function(n){return`\n    <div class="token-card-content">\n      <div class="token-visual ${n.reference?"is-reference":""}">\n        <div class="generic-sample">\n          <div class="generic-icon">${n.type.charAt(0).toUpperCase()}</div>\n        </div>\n        ${n.reference?'<div class="reference-indicator"></div>':""}\n      </div>\n      <div class="token-info">\n        <div class="token-name">${n.name}</div>\n        <div class="token-value ${n.reference?"reference-value":""}">\n          ${z(n)}\n        </div>\n      </div>\n    </div>\n  `}(e)}return o.innerHTML=r,o.addEventListener("click",(n=>{n.preventDefault(),console.log("TokenCard clicked:",e),t(e)})),o}function z(n){if(n.reference){if(n.referencePath)return n.referencePath;if("string"==typeof n.value&&b(n.value))return b(e=n.value)&&y(e)||e}var e;return String(n.value)}function j(n){const e=document.getElementById(n);if(!e)return console.error(`Token details panel container #${n} not found`),{show:()=>{},hide:()=>{},isVisible:()=>!1};let t=null,o=!1;function r(n){return n.replace(/([A-Z])/g," $1").replace(/^./,(n=>n.toUpperCase())).trim()}function i(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(){var n;e.classList.remove("visible"),null===(n=document.querySelector(".plugin-container"))||void 0===n||n.classList.remove("show-details"),o=!1}return{show:function(n){var s;t=n,function(n){e.innerHTML=`\n      <div class="details-panel-container">\n        <div class="details-header">\n          <h2 class="details-title">Token Details</h2>\n          <button class="close-button">\n            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </button>\n        </div>\n        \n        <div class="details-preview">\n          ${function(n){const e=n.reference&&n.resolvedValue?n.resolvedValue:n.value;switch(n.type){case"color":return`\n          <div class="token-visualization color-visualization">\n            <div class="color-swatch" style="background-color: ${e}"></div>\n            <div class="color-value">${e}</div>\n          </div>\n        `;case"dimension":case"spacing":case"size":case"borderRadius":const t=parseFloat(String(e));return`\n          <div class="token-visualization dimension-visualization">\n            <div class="dimension-representation">\n              <div class="dimension-box" style="width: ${isNaN(t)?0:Math.min(t,100)}%"></div>\n            </div>\n            <div class="dimension-value">${e}</div>\n          </div>\n        `;case"fontFamily":return`\n          <div class="token-visualization typography-visualization">\n            <div class="font-sample" style="font-family: ${e}">\n              <div class="typography-sample-large">Aa</div>\n              <div class="typography-sample-small">The quick brown fox jumps over the lazy dog</div>\n            </div>\n          </div>\n        `;case"fontWeight":return`\n          <div class="token-visualization typography-visualization">\n            <div class="font-sample" style="font-weight: ${e}">\n              <div class="typography-sample-large">Aa</div>\n              <div class="typography-sample-small">The quick brown fox jumps over the lazy dog</div>\n            </div>\n          </div>\n        `;case"fontSize":return`\n          <div class="token-visualization typography-visualization">\n            <div class="font-sample" style="font-size: ${e}">\n              <div class="typography-sample-text">Aa</div>\n            </div>\n          </div>\n        `;case"lineHeight":return`\n          <div class="token-visualization typography-visualization">\n            <div class="font-sample" style="line-height: ${e}">\n              <div class="typography-sample-lines">\n                Line 1<br>\n                Line 2<br>\n                Line 3\n              </div>\n            </div>\n          </div>\n        `;case"letterSpacing":return`\n          <div class="token-visualization typography-visualization">\n            <div class="font-sample" style="letter-spacing: ${e}">\n              <div class="typography-sample-text">TYPOGRAPHY</div>\n            </div>\n          </div>\n        `;case"shadow":case"boxShadow":return`\n          <div class="token-visualization shadow-visualization">\n            <div class="shadow-box" style="box-shadow: ${e}"></div>\n          </div>\n        `;default:return`\n          <div class="token-visualization generic-visualization">\n            <div class="generic-value">${r(n.type)}</div>\n          </div>\n        `}}(n)}\n        </div>\n        \n        \x3c!-- Token information --\x3e\n        <div class="details-info">\n          <div class="details-section">\n            <div class="details-row">\n              <div class="details-label">Name</div>\n              <div class="details-value">${n.name}</div>\n            </div>\n            \n            <div class="details-row">\n              <div class="details-label">Path</div>\n              <div class="details-value details-monospace">${n.path}</div>\n            </div>\n            \n            <div class="details-row">\n              <div class="details-label">Value</div>\n              <div class="details-value details-monospace">\n                <span style="flex: 1">${function(n){return n.reference?`<span class="reference-value">${n.value}</span>`:i(String(n.value))}(n)}</span>\n                <button class="copy-button" data-value="${i(String(n.value))}">\n                  <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                  </svg>\n                </button>\n              </div>\n            </div>\n            \n            ${n.reference&&n.resolvedValue?`\n              <div class="details-row">\n                <div class="details-label">Resolved</div>\n                <div class="details-value details-monospace">\n                  <span style="flex: 1">${n.resolvedValue}</span>\n                  <button class="copy-button" data-value="${i(String(n.resolvedValue))}">\n                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                      <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            `:""}\n            \n            <div class="details-row">\n              <div class="details-label">Type</div>\n              <div class="details-value">\n                <span style="flex: 1">${r(n.type)}</span>\n                ${n.reference?'<span class="reference-badge">Reference</span>':""}\n              </div>\n            </div>\n          </div>\n          \n          <div class="details-section">\n            <h3 class="details-section-title">Usage</h3>\n            \n            ${function(n){const e=`--${n.path.replace(/\./g,"-")}`,t=`$${n.path.replace(/\./g,"-")}`;let o="";switch(n.type){case"color":o=`color: var(${e});`;break;case"dimension":case"spacing":o=`margin: var(${e});`;break;case"size":o=`width: var(${e});`;break;case"borderRadius":o=`border-radius: var(${e});`;break;case"fontFamily":o=`font-family: var(${e});`;break;case"fontWeight":o=`font-weight: var(${e});`;break;case"fontSize":o=`font-size: var(${e});`;break;case"lineHeight":o=`line-height: var(${e});`;break;case"letterSpacing":o=`letter-spacing: var(${e});`;break;case"shadow":case"boxShadow":o=`box-shadow: var(${e});`;break;default:o=`/* Custom property */ var(${e});`}return`\n      <div class="usage-item">\n        <div class="usage-label">CSS</div>\n        <div class="usage-code">\n          <span style="flex: 1">${e}</span>\n          <button class="copy-button" data-value="${e}">\n            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n      \n      <div class="usage-item">\n        <div class="usage-label">CSS Usage</div>\n        <div class="usage-code">\n          <span style="flex: 1">${o}</span>\n          <button class="copy-button" data-value="${o}">\n            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n      \n      <div class="usage-item">\n        <div class="usage-label">SCSS</div>\n        <div class="usage-code">\n          <span style="flex: 1">${t}</span>\n          <button class="copy-button" data-value="${t}">\n            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M5 15H4C3.46957 15 2.96086 14.7893 2.58579 14.4142C2.21071 14.0391 2 13.5304 2 13V4C2 3.46957 2.21071 2.96086 2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H13C13.5304 2 14.0391 2.21071 14.4142 2.58579C14.7893 2.96086 15 3.46957 15 4V5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n    `}(n)}\n          </div>\n        </div>\n      </div>\n    `;const t=e.querySelector(".close-button");t&&t.addEventListener("click",a),e.querySelectorAll(".copy-button").forEach((n=>{n.addEventListener("click",(()=>{const e=n.dataset.value;e&&(function(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}(e),function(n){const e=document.createElement("div");e.className="copy-tooltip",e.textContent="Copied!";const t=n.getBoundingClientRect();e.style.top=t.top-30+"px",e.style.left=`${t.left+t.width/2}px`,document.body.appendChild(e),setTimeout((()=>{e.classList.add("fade-out"),setTimeout((()=>{document.body.removeChild(e)}),300)}),1e3)}(n))}))}))}(n),e.classList.add("visible"),null===(s=document.querySelector(".plugin-container"))||void 0===s||s.classList.add("show-details"),o=!0},hide:a,isVisible:()=>o}}function L(n){try{return JSON.stringify(n,null,2)}catch(n){return console.error("Error formatting JSON:",n),JSON.stringify({error:"Error formatting JSON",message:n instanceof Error?n.message:String(n)})}}class M{constructor(n,e={}){this.editorElement=null,this.highlightElement=null,this.messageArea=null,this.isValid=!0,this.gutterElement=null,this.container=n,this.jsonData=e,this.initialize()}initialize(){this.container.innerHTML="",this.createEditorLayout(),this.updateContent(),this.validate()}createEditorLayout(){const n=document.createElement("div");n.className="json-editor-header";const e=document.createElement("div");e.className="json-status";const t=document.createElement("span");t.className="status-indicator pending",t.textContent="Validating...",e.appendChild(t);const o=document.createElement("div");o.className="json-editor-actions";const r=document.createElement("button");r.className="json-format-btn",r.textContent="Format",r.title="Format JSON (Ctrl+Shift+F)",r.addEventListener("click",(()=>this.format())),o.appendChild(r);const i=document.createElement("button");i.className="json-validate-btn",i.textContent="Validate",i.title="Validate JSON (Ctrl+Enter)",i.addEventListener("click",(()=>this.validate())),o.appendChild(i);const a=document.createElement("button");a.className="json-help-btn",a.textContent="?",a.title="Show help",a.addEventListener("click",(()=>this.showHelp())),o.appendChild(a),n.appendChild(e),n.appendChild(o),this.container.appendChild(n);const s=document.createElement("div");s.className="json-editor-content";const l=L(this.jsonData),c=this.countLines(l);this.gutterElement=this.createLineNumbersGutter(c),s.appendChild(this.gutterElement),s.classList.add("with-line-numbers"),this.editorElement=document.createElement("textarea"),this.editorElement.className="json-editor-textarea",this.editorElement.spellcheck=!1,this.editorElement.addEventListener("input",this.handleEditorInput.bind(this)),this.editorElement.addEventListener("blur",this.handleEditorBlur.bind(this)),this.editorElement.addEventListener("scroll",this.syncScroll.bind(this)),this.editorElement.addEventListener("keydown",(n=>{if(n.ctrlKey&&n.shiftKey&&"F"===n.key&&(n.preventDefault(),this.format()),n.ctrlKey&&"Enter"===n.key&&(n.preventDefault(),this.validate()),"Tab"===n.key){n.preventDefault();const e=this.editorElement.selectionStart,t=this.editorElement.selectionEnd,o=this.editorElement.value.substring(0,e)+"  "+this.editorElement.value.substring(t);this.editorElement.value=o,this.editorElement.selectionStart=this.editorElement.selectionEnd=e+2,this.handleEditorInput()}})),this.highlightElement=document.createElement("div"),this.highlightElement.className="syntax-highlight-layer",this.highlightElement.setAttribute("aria-hidden","true"),s.appendChild(this.editorElement),s.appendChild(this.highlightElement);const d=document.createElement("div");d.className="json-editor-body",d.appendChild(s),this.container.appendChild(d),this.messageArea=document.createElement("div"),this.messageArea.className="json-editor-message";const p=document.createElement("div");p.className="json-editor-footer",p.appendChild(this.messageArea),this.container.appendChild(p);const m=document.createElement("div");m.className="json-editor-help",m.style.display="none",m.innerHTML='\n      <h4>JSON Editor Help</h4>\n      <p>This editor allows you to edit, add, and delete Figma variables.</p>\n      <ul>\n        <li><strong>Collection:</strong> Top-level object keys represent collections</li>\n        <li><strong>Mode:</strong> Second-level object keys represent modes</li>\n        <li><strong>Variables:</strong> Nested paths represent variables</li>\n        <li><strong>For tokens:</strong> Use <code>{"$value": "#fff", "$type": "color"}</code></li>\n        <li><strong>References:</strong> Use <code>{"$value": "{path/to/variable}", "$type": "color"}</code></li>\n        <li><strong>Deletion:</strong> To delete a variable, remove it from the JSON</li>\n      </ul>\n      <p>Keyboard shortcuts:</p>\n      <ul>\n        <li><strong>Ctrl+Shift+F:</strong> Format JSON</li>\n        <li><strong>Ctrl+Enter:</strong> Validate JSON</li>\n        <li><strong>Tab:</strong> Insert 2 spaces</li>\n      </ul>\n      <button class="json-help-close-btn">Close</button>\n    ';const g=m.querySelector(".json-help-close-btn");g&&g.addEventListener("click",(()=>{m.style.display="none"})),this.container.appendChild(m)}showHelp(){const n=this.container.querySelector(".json-editor-help");n&&(n.style.display="block")}countLines(n){return n.split("\n").length}createLineNumbersGutter(n){const e=document.createElement("div");e.className="line-numbers-gutter";for(let t=0;t<n;t++){const n=document.createElement("div");n.className="line-number",n.textContent=String(t+1),e.appendChild(n)}return e}formatWithHighlighting(n){const e=n=>n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");let t="";const o=n.split("\n");for(let n=0;n<o.length;n++){const r=o[n];let i="",a=0;for(;a<r.length;){const n=r[a];if("{"===n||"["===n)i+=`<span class="token punctuation">${n}</span>`,a++;else if("}"===n||"]"===n)i+=`<span class="token punctuation">${n}</span>`,a++;else if(","===n)i+=`<span class="token punctuation">${n}</span>`,a++;else if('"'===n){let n=a+1;for(;n<r.length&&'"'!==r[n];)"\\"===r[n]&&n+1<r.length&&n++,n++;if(n<r.length){const t=e(r.substring(a,n+1));let o=!1,s=n+1;for(;s<r.length&&" "===r[s];)s++;s<r.length&&":"===r[s]&&(o=!0),o?(i+=`<span class="token property">${t}</span>`,i+='<span class="token punctuation">:</span>',a=s+1):(/^"#[0-9a-fA-F]+"/i.test(t)?i+=`<span class="token color-hex">${t}</span>`:i+=`<span class="token string">${t}</span>`,a=n+1)}else i+='<span class="token string">"</span>',a++}else if(/[0-9]/.test(n)){let n="",e=a;for(;e<r.length&&/[0-9.eE+-]/.test(r[e]);)n+=r[e],e++;i+=`<span class="token number">${n}</span>`,a=e}else if("true"===r.substring(a,a+4)||"false"===r.substring(a,a+5)){const n=r.substring(a).match(/^(true|false)/)[0];i+=`<span class="token boolean">${n}</span>`,a+=n.length}else"null"===r.substring(a,a+4)?(i+='<span class="token null">null</span>',a+=4):(i+=e(n),a++)}t+=i+(n<o.length-1?"\n":"")}return t}updateContent(){if(this.editorElement)try{const n=L(this.jsonData);if(this.editorElement.value=n,this.gutterElement){const e=this.countLines(n);this.gutterElement.innerHTML="";for(let n=0;n<e;n++){const e=document.createElement("div");e.className="line-number",e.textContent=String(n+1),this.gutterElement.appendChild(e)}}this.highlightElement&&(this.highlightElement.innerHTML=this.formatWithHighlighting(n),this.syncScroll()),this.isValid=!0}catch(n){console.error("Error formatting JSON:",n),this.editorElement&&(this.editorElement.value=n instanceof Error?n.message:String(n),this.editorElement.classList.add("json-error"),this.isValid=!1)}}handleEditorInput(){if(!this.editorElement)return;const n=this.editorElement.value;try{const e=JSON.parse(n);if(this.jsonData=e,this.isValid=!0,this.highlightElement&&(this.highlightElement.innerHTML=this.formatWithHighlighting(n)),this.gutterElement){const e=this.countLines(n),t=this.gutterElement.childElementCount;if(e>t)for(let n=t;n<e;n++){const e=document.createElement("div");e.className="line-number",e.textContent=String(n+1),this.gutterElement.appendChild(e)}else if(e<t)for(let n=t;n>e;n--)this.gutterElement.removeChild(this.gutterElement.lastChild)}}catch(n){this.isValid=!1}this.syncScroll()}handleEditorBlur(){if(!this.editorElement)return;const n=this.editorElement.value;try{const e=JSON.parse(n);this.jsonData=e,this.editorElement.classList.remove("json-error"),this.isValid=!0}catch(n){this.editorElement.classList.add("json-error"),this.isValid=!1}this.syncScroll()}syncScroll(){this.editorElement&&this.highlightElement&&(this.highlightElement.scrollTop=this.editorElement.scrollTop,this.highlightElement.scrollLeft=this.editorElement.scrollLeft)}getJson(){return this.jsonData}updateJson(n){this.jsonData=n,this.updateContent()}format(){try{if(!this.editorElement)return;const n=this.editorElement.value,e=JSON.parse(n),t=JSON.stringify(e,null,2);if(this.editorElement.value=t,this.jsonData=e,this.isValid=!0,this.highlightElement&&(this.highlightElement.innerHTML=this.formatWithHighlighting(t),this.syncScroll()),this.gutterElement){const n=this.countLines(t);this.gutterElement.innerHTML="";for(let e=0;e<n;e++){const n=document.createElement("div");n.className="line-number",n.textContent=String(e+1),this.gutterElement.appendChild(n)}}this.showMessage("JSON formatted successfully","success")}catch(n){this.isValid=!1,this.showMessage(`Cannot format: ${n instanceof Error?n.message:"Invalid JSON"}`,"error")}}validate(){if(!this.editorElement)return;const n=this.editorElement.value;try{const e=JSON.parse(n);this.isValid=!0,this.jsonData=e;const t=this.container.querySelector(".status-indicator");t&&(t.textContent="Valid JSON",t.className="status-indicator valid"),this.showMessage("JSON is valid","success"),this.editorElement.classList.remove("json-error")}catch(n){this.isValid=!1;const e=this.container.querySelector(".status-indicator");e&&(e.textContent="Invalid JSON",e.className="status-indicator invalid");const t=n instanceof Error?n.message:"Invalid JSON format";this.showMessage(`Error: ${t}`,"error"),this.editorElement.classList.add("json-error")}}showMessage(n,e="info",t=5e3){this.messageArea?(this.messageArea.textContent=n,this.messageArea.className=`json-editor-message ${e}`,("success"===e||"info"===e)&&t>0&&setTimeout((()=>{this.messageArea&&this.messageArea.textContent===n&&(this.messageArea.textContent="",this.messageArea.className="json-editor-message")}),t)):console.log(`${e.toUpperCase()}: ${n}`)}}let N=null;function T(n,e){const t=document.getElementById(n);if(t){try{t.innerHTML="";const n=document.createElement("div");n.className="json-editor-toolbar";const o=document.createElement("button");o.textContent="Save to Figma",o.className="json-editor-save",o.addEventListener("click",(()=>{N&&function(n){var e,t,o,r;e=this,t=void 0,r=function*(){if(N)try{const t=JSON.parse(JSON.stringify(n));if(0===Object.keys(t).length||!Object.values(t).some((n=>"object"==typeof n&&Object.keys(n).length>0)))return void N.showMessage("Cannot save empty JSON data. No variables would be updated.","error");N.showMessage("Saving changes to Figma variables (existing variables outside this view will be preserved)...","pending"),yield(e=t,new Promise(((n,t)=>{try{const o=JSON.parse(JSON.stringify(e)),r={type:"update-variables",data:o};console.log("Sending data to Figma plugin:",JSON.stringify(o)),parent.postMessage({pluginMessage:r},"*");const i=e=>{const o=e.data.pluginMessage;o&&o.type&&"update-variables-result"===o.type&&(window.removeEventListener("message",i),o.success?(void 0===o.created&&void 0===o.updated||console.log(`Variables updated: ${o.created||0} created, ${o.updated||0} updated`),n()):t(new Error(o.error||"Failed to update variables")))};window.addEventListener("message",i),setTimeout((()=>{window.removeEventListener("message",i),t(new Error("Timeout waiting for response from Figma plugin"))}),3e4)}catch(n){t(n)}}))),N.showMessage("Variables updated successfully! Refreshing data...","success"),window.extractionTimeout&&clearTimeout(window.extractionTimeout),window.extractionTimeout=setTimeout((()=>{parent.postMessage({pluginMessage:{type:"extract-tokens"}},"*"),window.extractionTimeout=null}),1e3)}catch(n){N.showMessage(`Error updating variables: ${n instanceof Error?n.message:"Unknown error"}`,"error")}var e},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{l(r.next(n))}catch(n){i(n)}}function s(n){try{l(r.throw(n))}catch(n){i(n)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(n){n(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}(N.getJson())}));const r=document.createElement("button");r.textContent="Format",r.className="json-editor-format",r.addEventListener("click",(()=>{N&&N.format()}));const i=document.createElement("div");i.className="json-editor-message",n.appendChild(o),n.appendChild(r);const a=document.createElement("div");a.className="json-editor-container",t.appendChild(n),t.appendChild(i),t.appendChild(a),N=new M(a,e)}catch(n){console.error("Error setting up JSON editor panel:",n),t&&(t.innerHTML='<div class="error-message">Error initializing JSON editor. Please try reloading the plugin.</div>')}N.showMessage('This editor allows you to edit, add, and delete Figma variables. Click the "?" button for help.',"info")}else console.error(`JSON editor container not found: ${n}`)}function A(n,e,t,o="",r=[]){const i=document.createElement("div");i.className="ftm-export-format-card",i.setAttribute("data-format",n);const a=document.createElement("div");a.className="ftm-export-format-card-header",a.innerHTML=`\n    <input type="radio" id="format-${n}" name="format">\n    <label for="format-${n}">${e}</label>\n  `;const s=document.createElement("div");s.className="ftm-export-format-card-content";let l=`<p>${t}</p>`;return o&&(l+=`\n      <div class="ftm-export-format-example">\n        <pre><code>${o}</code></pre>\n      </div>\n    `),r.length>0&&(l+='<div class="ftm-export-format-benefits">',r.forEach((n=>{l+=`<span class="ftm-export-benefit-tag"> ${n}</span>`})),l+="</div>"),s.innerHTML=l,i.appendChild(a),i.appendChild(s),i}function F(n,e,t,o,r,i){const a=document.createElement("div");a.className="ftm-export-platform-card "+(r?"active":""),a.setAttribute("data-platform",n);const s=document.createElement("div");s.className="ftm-export-platform-card-header",s.innerHTML=`\n    <input type="checkbox" id="platform-${n}" ${r?"checked":""}>\n    <label for="platform-${n}">${e}</label>\n  `;const l=document.createElement("div");l.className="ftm-export-platform-card-content",l.innerHTML=`\n    <div class="ftm-export-platform-icon">${t}</div>\n    <p>${o}</p>\n  `,a.appendChild(s),a.appendChild(l),a.addEventListener("click",(n=>{if("INPUT"===n.target.tagName)return;const e=a.querySelector('input[type="checkbox"]');e.checked=!e.checked;const t=new Event("change");e.dispatchEvent(t)}));const c=a.querySelector('input[type="checkbox"]');return c.addEventListener("change",(()=>{a.classList.toggle("active",c.checked),i.styleDictionary||(i.styleDictionary={platforms:[],formats:["css","scss","js"],useRem:!1,remBaseFontSize:16,colorFormat:"hex"});const e=i.styleDictionary.platforms||[];c.checked&&!e.includes(n)?i.styleDictionary.platforms=[...e,n]:!c.checked&&e.includes(n)&&(i.styleDictionary.platforms=e.filter((e=>e!==n)))})),a}function H(n){const{tokenData:e,onExport:t,onCancel:o}=n,r=document.createElement("div");r.className="ftm-export-dialog-overlay",document.body.appendChild(r);const i=document.createElement("div");i.className="ftm-export-dialog",r.appendChild(i);const a=function(){const n=document.createElement("div");return n.className="ftm-export-dialog-header",n.innerHTML='\n    <h2>Export Tokens</h2>\n    <button class="ftm-export-close-button" aria-label="Close">&times;</button>\n  ',n}();i.appendChild(a);const s=document.createElement("div");s.className="ftm-export-dialog-content-container",i.appendChild(s);const{tabsContainer:l,switchTab:c}=function(){const n=document.createElement("div");return n.className="ftm-export-dialog-tabs",n.innerHTML='\n    <button class="ftm-export-tab active" data-tab="content">1. Content</button>\n    <button class="ftm-export-tab" data-tab="config">2. Config</button>\n    <button class="ftm-export-tab" data-tab="transforms">3. Transforms</button>\n  ',{tabsContainer:n,switchTab:function(e){Array.from(n.querySelectorAll(".ftm-export-tab")).forEach((n=>{n.getAttribute("data-tab")===e?n.classList.add("active"):n.classList.remove("active")}))}}}();s.appendChild(l);const d=document.createElement("div");d.className="ftm-export-dialog-content",s.appendChild(d);const p={selectedCollections:{},selectedModes:{},includeCompleteFile:!0,flattenStructure:!1,format:"dtcg",styleDictionary:{platforms:["web"],formats:["css","scss","js"],useRem:!1,remBaseFontSize:16,colorFormat:"hex",includeDocumentation:!0}};function m(n){if(!n||"object"!=typeof n)return 0;if("$value"in n&&"$type"in n)return 1;let e=0;return Object.values(n).forEach((n=>{n&&"object"==typeof n&&(e+=m(n))})),e}function g(){let n=0;return Object.entries(p.selectedCollections).forEach((([t,o])=>{o&&p.selectedModes[t]&&Object.entries(p.selectedModes[t]).forEach((([o,r])=>{if(r){const r=e[t][o];n+=m(r)}}))})),n}const u=function(n,e,t){const o=document.createElement("div");o.className="ftm-export-tab-content",o.id="content-tab";const r=document.createElement("div");r.className="ftm-export-tab-intro",r.innerHTML="<p>Select the collections and modes you want to export:</p>",o.appendChild(r);const i=document.createElement("div");i.className="ftm-export-dialog-section";const a=document.createElement("div");a.className="ftm-section-header-with-controls",a.innerHTML='\n    <h3>Collections</h3>\n    <div class="ftm-header-controls">\n      <button class="ftm-export-select-all-button" id="select-all-collections">All</button>\n      <button class="ftm-export-deselect-all-button" id="deselect-all-collections">None</button>\n    </div>\n  ',i.appendChild(a);const{searchContainer:s,searchInput:l}=function(){const n=document.createElement("div");n.className="ftm-export-search-container";const e=document.createElement("input");e.type="text",e.className="ftm-export-search-input",e.id="collection-search",e.placeholder="Search collections...";const t=document.createElement("span");return t.className="ftm-export-search-icon",t.textContent="",n.appendChild(e),n.appendChild(t),{searchContainer:n,searchInput:e}}();i.appendChild(s);const c=document.createElement("div");c.className="ftm-export-selection-list collections-list",i.appendChild(c),o.appendChild(i);const d=new Map;Object.keys(n).forEach((o=>{e.selectedCollections[o]=!0,e.selectedModes[o]={};const r=document.createElement("div");r.className="ftm-export-selection-card collection-card",d.set(o,r);const i=document.createElement("div");i.className="ftm-export-card-header",i.innerHTML=`\n      <div class="ftm-export-card-checkbox-container">\n        <input type="checkbox" id="collection-${o}" checked>\n        <label for="collection-${o}" class="ftm-export-card-title">${o}</label>\n      </div>\n      <button class="ftm-export-toggle-button" aria-label="Toggle modes">\n        <span class="ftm-export-toggle-icon"></span>\n      </button>\n    `,r.appendChild(i);const a=document.createElement("div");a.className="ftm-export-card-content ftm-export-modes-container";const s=document.createElement("div");s.className="ftm-export-modes-header";const l=Object.keys(n[o]).length,p=document.createElement("div");p.className="ftm-export-modes-counter",p.textContent=`${l} mode${1!==l?"s":""}`,s.appendChild(p);const m=document.createElement("div");m.className="ftm-export-modes-controls",m.innerHTML=`\n      <button class="ftm-export-select-all-button select-all-modes" data-collection="${o}">All</button>\n      <button class="ftm-export-deselect-all-button deselect-all-modes" data-collection="${o}">None</button>\n    `,s.appendChild(m),a.appendChild(s);const g=document.createElement("div");g.className="ftm-export-modes-grid";const u=n[o];Object.keys(u).forEach((n=>{e.selectedModes[o][n]=!0;const r=document.createElement("div");r.className="ftm-export-mode-item",r.innerHTML=`\n        <div class="ftm-export-mode-checkbox-container">\n          <input type="checkbox" id="mode-${o}-${n}" checked>\n          <label for="mode-${o}-${n}" class="ftm-export-mode-label">${n}</label>\n        </div>\n      `,g.appendChild(r);const i=r.querySelector(`#mode-${o}-${n}`);i.addEventListener("change",(()=>{e.selectedModes[o][n]=i.checked,x(),t()}))})),a.appendChild(g),r.appendChild(a),c.appendChild(r);const f=i.querySelector(".ftm-export-toggle-button"),h=document.createElement("div");h.className="ftm-export-mode-summary",h.textContent=`${l} mode${1!==l?"s":""} selected`,h.style.display="inline-block",h.style.fontSize="11px",h.style.color="#666",h.style.marginRight="4px",i.insertBefore(h,f);const x=()=>{const n=Object.values(e.selectedModes[o]).filter((n=>n)).length;h.textContent=`${n}/${l} mode${1!==l?"s":""} selected`,h.style.color=0===n?"#d73a49":n<l?"#f9a825":"#28a745"};x();const v=i.querySelector(`#collection-${o}`);v.addEventListener("change",(()=>{e.selectedCollections[o]=v.checked,a.querySelectorAll('input[type="checkbox"]').forEach((n=>{const e=n;e.disabled=!v.checked,v.checked||(e.checked=!1)})),v.checked?x():(h.style.color="#666",h.textContent=`${l} mode${1!==l?"s":""} (disabled)`),t()})),f.addEventListener("click",(()=>{const n=a.classList.toggle("expanded");f.querySelector(".ftm-export-toggle-icon").textContent=n?"":"",h.style.display=n?"none":"inline-block"}));const b=m.querySelector(".select-all-modes"),y=m.querySelector(".deselect-all-modes");b.addEventListener("click",(()=>{g.querySelectorAll('input[type="checkbox"]').forEach((n=>{const t=n,r=t.id.replace(`mode-${o}-`,"");t.checked=!0,e.selectedModes[o][r]=!0})),x(),t()})),y.addEventListener("click",(()=>{g.querySelectorAll('input[type="checkbox"]').forEach((n=>{const t=n,r=t.id.replace(`mode-${o}-`,"");t.checked=!1,e.selectedModes[o][r]=!1})),x(),t()}))})),l.addEventListener("input",(()=>{const n=l.value.toLowerCase();if(d.forEach(((e,t)=>{t.toLowerCase().includes(n)?e.style.display="block":e.style.display="none"})),Array.from(d.values()).every((n=>"none"===n.style.display))){if(!c.querySelector(".ftm-export-no-results")){const n=document.createElement("div");n.className="ftm-export-no-results",n.textContent="No collections match your search.",c.appendChild(n)}}else{const n=c.querySelector(".ftm-export-no-results");n&&c.removeChild(n)}}));const p=a.querySelector("#select-all-collections"),m=a.querySelector("#deselect-all-collections");return p.addEventListener("click",(()=>{c.querySelectorAll('.ftm-export-card-header input[type="checkbox"]').forEach((n=>{const t=n;t.checked=!0;const o=t.id.replace("collection-","");e.selectedCollections[o]=!0,c.querySelectorAll(`#mode-${o}-`).forEach((n=>{n.disabled=!1}))})),t()})),m.addEventListener("click",(()=>{c.querySelectorAll('.ftm-export-card-header input[type="checkbox"]').forEach((n=>{const t=n;t.checked=!1;const o=t.id.replace("collection-","");e.selectedCollections[o]=!1,c.querySelectorAll(`input[id^="mode-${o}-"]`).forEach((n=>{const e=n;e.disabled=!0,e.checked=!1}))})),t()})),o}(e,p,g),f=function(n){const e=document.createElement("div");e.className="ftm-export-tab-content",e.id="config-tab";const t=document.createElement("div");t.className="ftm-export-tab-intro",t.innerHTML="\n    <p>Configure how your tokens will be exported:</p>\n  ",e.appendChild(t);const o=document.createElement("div");o.className="ftm-export-dialog-section",o.innerHTML="<h3>Export Format</h3>";const r=document.createElement("div");r.className="ftm-export-format-cards";const i=A("dtcg","Design Token Community Group (DTCG)","The standard format for design tokens with type information and metadata.",'{\n  "color": {\n    "primary": {\n      "$value": "#0366D6",\n      "$type": "color",\n      "$description": "Primary brand color"\n    }\n  }\n}',["Industry Standard","Type Information","Metadata Support"]);r.appendChild(i);const a=A("legacy","Legacy Format","Simple key-value format without type information or metadata.",'{\n  "color": {\n    "primary": "#0366D6"\n  }\n}',["Simple Structure","Broad Compatibility"]);r.appendChild(a),o.appendChild(r),e.appendChild(o);const s=document.createElement("div");s.className="ftm-export-dialog-section",s.innerHTML=`\n    <h3>File Structure Options</h3>\n    <div class="ftm-export-options-grid">\n      <div class="ftm-export-option-card">\n        <div class="ftm-export-option-card-header">\n          <input type="checkbox" id="flatten-structure" ${n.flattenStructure?"checked":""}>\n          <label for="flatten-structure">Flatten JSON</label>\n        </div>\n        <div class="ftm-export-option-card-content">\n          <p>Use flat key structure instead of nested objects.</p>\n        </div>\n      </div>\n      \n      <div class="ftm-export-option-card">\n        <div class="ftm-export-option-card-header">\n          <input type="checkbox" id="include-complete-file" ${n.includeCompleteFile?"checked":""}>\n          <label for="include-complete-file">Combine all collections/modes</label>\n        </div>\n        <div class="ftm-export-option-card-content">\n          <p>Create a single file with all selected collections and modes.</p>\n        </div>\n      </div>\n    </div>\n  `,e.appendChild(s),e.querySelectorAll('input[name="format"]').forEach((e=>{e.addEventListener("change",(()=>{r.querySelectorAll(".ftm-export-format-card").forEach((n=>{n.classList.remove("active")}));const t=e;if(t.checked){const e=t.closest(".ftm-export-format-card");null==e||e.classList.add("active");const o=null==e?void 0:e.getAttribute("data-format");n.format=o}}))}));const l=n.format,c=r.querySelector(`[data-format="${l}"]`);c&&(c.classList.add("active"),c.querySelector('input[type="radio"]').checked=!0),r.querySelectorAll(".ftm-export-format-card").forEach((n=>{n.addEventListener("click",(e=>{if("INPUT"===e.target.tagName)return;const t=n.querySelector('input[type="radio"]');t.checked=!0;const o=new Event("change");t.dispatchEvent(o)}))}));const d=e.querySelector("#flatten-structure");d.addEventListener("change",(()=>{n.flattenStructure=d.checked}));const p=e.querySelector("#include-complete-file");return p.addEventListener("change",(()=>{n.includeCompleteFile=p.checked})),e}(p),h=function(n){var e,t,o,r,i,a,s,l,c,d,p,m,g,u,f,h,x,v,b,y,w,k,C,E,$;const S=document.createElement("div");S.className="ftm-export-tab-content",S.id="transforms-tab";const z=document.createElement("div");z.className="ftm-export-tab-intro",z.innerHTML="\n    <p>Configure value transformations for your tokens:</p>\n  ",S.appendChild(z);const j=document.createElement("div");j.className="ftm-export-dialog-section",j.innerHTML="<h3>Token Transformations</h3>";const L=document.createElement("div");L.className="ftm-export-transformations-grid";const M=document.createElement("div");M.className="ftm-export-transformation-group",M.innerHTML=`\n    <h5>Dimensions</h5>\n    <div class="ftm-export-transformation-option">\n      <input type="checkbox" id="use-rem" ${(null===(e=n.styleDictionary)||void 0===e?void 0:e.useRem)?"checked":""}>\n      <label for="use-rem">Convert px to REM</label>\n    </div>\n    \n    <div class="ftm-export-transformation-option rem-base-container" ${(null===(t=n.styleDictionary)||void 0===t?void 0:t.useRem)?"":'style="opacity: 0.5"'}>\n      <label for="rem-base-size">REM Base Size:</label>\n      <div class="ftm-export-number-input-container">\n        <input type="number" id="rem-base-size" min="1" max="32" value="${(null===(o=n.styleDictionary)||void 0===o?void 0:o.remBaseFontSize)||16}" ${(null===(r=n.styleDictionary)||void 0===r?void 0:r.useRem)?"":"disabled"}>\n        <span class="ftm-export-unit">px</span>\n      </div>\n    </div>\n  `,L.appendChild(M);const N=document.createElement("div");N.className="ftm-export-transformation-group",N.innerHTML=`\n    <h5>Colors</h5>\n    <div class="ftm-export-transformation-option">\n      <label for="color-format">Color Format:</label>\n      <select id="color-format" class="ftm-export-select">\n        <option value="hex" ${"hex"===(null===(i=n.styleDictionary)||void 0===i?void 0:i.colorFormat)?"selected":""}>HEX</option>\n        <option value="rgb" ${"rgb"===(null===(a=n.styleDictionary)||void 0===a?void 0:a.colorFormat)?"selected":""}>RGB</option>\n        <option value="rgba" ${"rgba"===(null===(s=n.styleDictionary)||void 0===s?void 0:s.colorFormat)?"selected":""}>RGBA</option>\n        <option value="hsl" ${"hsl"===(null===(l=n.styleDictionary)||void 0===l?void 0:l.colorFormat)?"selected":""}>HSL</option>\n      </select>\n    </div>\n  `,L.appendChild(N),j.appendChild(L),S.appendChild(j);const T=document.createElement("div");T.className="ftm-export-dialog-section",T.innerHTML="<h3>Platform Outputs</h3>";const A=document.createElement("div");A.className="ftm-export-platforms-grid";const H=F("web","Web","","CSS, SCSS, JavaScript",!0,n);A.appendChild(H);const D=F("ios","React Native","","Swift",(null===(d=null===(c=n.styleDictionary)||void 0===c?void 0:c.platforms)||void 0===d?void 0:d.includes("ios"))||!1,n);A.appendChild(D);const V=F("android","Android","","XML",(null===(m=null===(p=n.styleDictionary)||void 0===p?void 0:p.platforms)||void 0===m?void 0:m.includes("android"))||!1,n);A.appendChild(V),T.appendChild(A),S.appendChild(T);const O=document.createElement("div");O.className="ftm-export-dialog-section web-formats-section",O.style.display="block",O.innerHTML=`\n    <h3>Web Output Formats</h3>\n    <div class="ftm-export-formats-grid web-formats-section">\n      <div class="ftm-export-format-option ${(null===(u=null===(g=n.styleDictionary)||void 0===g?void 0:g.formats)||void 0===u?void 0:u.includes("css"))?"active":""}" data-format="css">\n        <input type="checkbox" id="format-css" ${(null===(h=null===(f=n.styleDictionary)||void 0===f?void 0:f.formats)||void 0===h?void 0:h.includes("css"))?"checked":""}>\n        <label for="format-css">\n          <span class="ftm-export-format-name">CSS</span>\n          <span class="ftm-export-format-description">CSS Custom Properties</span>\n        </label>\n      </div>\n      \n      <div class="ftm-export-format-option ${(null===(v=null===(x=n.styleDictionary)||void 0===x?void 0:x.formats)||void 0===v?void 0:v.includes("scss"))?"active":""}" data-format="scss">\n        <input type="checkbox" id="format-scss" ${(null===(y=null===(b=n.styleDictionary)||void 0===b?void 0:b.formats)||void 0===y?void 0:y.includes("scss"))?"checked":""}>\n        <label for="format-scss">\n          <span class="ftm-export-format-name">SCSS</span>\n          <span class="ftm-export-format-description">SASS/SCSS Variables</span>\n        </label>\n      </div>\n      \n      <div class="ftm-export-format-option ${(null===(k=null===(w=n.styleDictionary)||void 0===w?void 0:w.formats)||void 0===k?void 0:k.includes("js"))?"active":""}" data-format="js">\n        <input type="checkbox" id="format-js" ${(null===(E=null===(C=n.styleDictionary)||void 0===C?void 0:C.formats)||void 0===E?void 0:E.includes("js"))?"checked":""}>\n        <label for="format-js">\n          <span class="ftm-export-format-name">JavaScript</span>\n          <span class="ftm-export-format-description">JS Module</span>\n        </label>\n      </div>\n    </div>\n  `,S.appendChild(O);const q=document.createElement("div");q.className="ftm-export-dialog-section",q.innerHTML=`\n    <h3>Documentation</h3>\n    <div class="ftm-export-options-grid">\n      <div class="ftm-export-option-card">\n        <div class="ftm-export-option-card-header">\n          <input type="checkbox" id="include-documentation" ${(null===($=n.styleDictionary)||void 0===$?void 0:$.includeDocumentation)?"checked":""}>\n          <label for="include-documentation">Include implementation documentation</label>\n        </div>\n        <div class="ftm-export-option-card-content">\n          <p>Generate documentation with implementation examples and usage guidelines.</p>\n        </div>\n      </div>\n    </div>\n  `,S.appendChild(q);const R=S.querySelector("#use-rem"),B=S.querySelector("#rem-base-size"),P=S.querySelector(".rem-base-container");R.addEventListener("change",(()=>{n.styleDictionary||(n.styleDictionary={platforms:["web"],formats:["css","scss","js"],remBaseFontSize:16,colorFormat:"hex"}),n.styleDictionary.useRem=R.checked,B.disabled=!R.checked,P.style.opacity=R.checked?"1":"0.5"})),B.addEventListener("change",(()=>{n.styleDictionary||(n.styleDictionary={platforms:["web"],formats:["css","scss","js"],useRem:!0,colorFormat:"hex"}),n.styleDictionary.remBaseFontSize=parseInt(B.value,10)||16}));const J=S.querySelector("#color-format");J.addEventListener("change",(()=>{n.styleDictionary||(n.styleDictionary={platforms:["web"],formats:["css","scss","js"],useRem:!1,remBaseFontSize:16}),n.styleDictionary.colorFormat=J.value})),S.querySelectorAll(".ftm-export-format-option").forEach((e=>{!function(n,e){n.addEventListener("click",(e=>{if("INPUT"===e.target.tagName)return;const t=n.querySelector('input[type="checkbox"]');t.checked=!t.checked;const o=new Event("change");t.dispatchEvent(o)}));const t=n.querySelector('input[type="checkbox"]');t.addEventListener("change",(()=>{n.classList.toggle("active",t.checked),e.styleDictionary||(e.styleDictionary={platforms:["web"],formats:[],useRem:!1,remBaseFontSize:16,colorFormat:"hex"});const o=n.getAttribute("data-format");if(o){const n=e.styleDictionary.formats||[];t.checked&&!n.includes(o)?e.styleDictionary.formats=[...n,o]:!t.checked&&n.includes(o)&&(e.styleDictionary.formats=n.filter((n=>n!==o)))}}))}(e,n)}));const I=S.querySelector("#platform-web");I.addEventListener("change",(()=>{O.style.display=I.checked?"block":"none"}));const U=S.querySelector("#include-documentation");return U.addEventListener("change",(()=>{n.styleDictionary||(n.styleDictionary={platforms:["web"],formats:["css","scss","js"],useRem:!1,remBaseFontSize:16,colorFormat:"hex"}),n.styleDictionary.includeDocumentation=U.checked})),S}(p);d.appendChild(u),d.appendChild(f),d.appendChild(h),f.style.display="none",h.style.display="none";const{footer:x,setTokenCount:v}=function(){const n=document.createElement("div");n.className="ftm-export-dialog-footer",n.innerHTML='\n    <div class="ftm-export-dialog-footer-info">\n      <span class="ftm-export-token-count">0 tokens selected</span>\n    </div>\n    <div class="ftm-export-dialog-footer-buttons">\n      <button class="ftm-export-secondary-button ftm-export-cancel-button">Cancel</button>\n      <button class="ftm-export-secondary-button ftm-export-back-button" style="display: none;">Back</button>\n      <button class="ftm-export-primary-button ftm-export-next-button">Next</button>\n      <button class="ftm-export-primary-button ftm-export-export-button" style="display: none;">Export</button>\n    </div>\n  ';const e=n.querySelector(".ftm-export-token-count");return{footer:n,setTokenCount:function(n){e.textContent=`${n} tokens selected`}}}();i.appendChild(x);const b=Array.from(l.querySelectorAll(".ftm-export-tab")),y=x.querySelector(".ftm-export-back-button"),w=x.querySelector(".ftm-export-next-button"),k=x.querySelector(".ftm-export-export-button"),C=x.querySelector(".ftm-export-cancel-button");let E=0;const $=[u,f,h];function S(n){$.forEach((n=>n.style.display="none")),b.forEach((n=>n.classList.remove("active"))),$[n].style.display="block",b[n].classList.add("active"),y.style.display=n>0?"block":"none",w.style.display=n<$.length-1?"block":"none",k.style.display=n===$.length-1?"block":"none",E=n,v(g())}b.forEach(((n,e)=>{n.addEventListener("click",(()=>{S(e)}))})),y.addEventListener("click",(()=>{E>0&&S(E-1)})),w.addEventListener("click",(()=>{if(E<$.length-1){if(0===E&&!Object.values(p.selectedCollections).some((n=>n)))return void alert("Please select at least one collection to export.");S(E+1)}}));const z=a.querySelector(".ftm-export-close-button");function j(){document.body.removeChild(r),o()}null==z||z.addEventListener("click",j),null==C||C.addEventListener("click",j),null==k||k.addEventListener("click",(()=>{if(!Object.values(p.selectedCollections).some((n=>n)))return alert("Please select at least one collection to export."),void S(0);if("style-dictionary"===p.format){const n=p.styleDictionary;if(!n||0===n.platforms.length)return alert("Please select at least one platform for Style Dictionary export."),void S(2);if(0===n.formats.length)return alert("Please select at least one format for Style Dictionary export."),void S(2)}t(p),j()})),r.addEventListener("click",(n=>{n.target===r&&j()})),v(g())}function D(n,e,t){if(!n||!e||!t.has(e))return{};const o=t.get(e);return o&&n[e]&&n[e][o]?{[e]:{[o]:n[e][o]}}:{}}function V(n,e){const t={};return e.forEach(((e,o)=>{n[o]&&n[o][e]&&(t[o]||(t[o]={}),t[o][e]=n[o][e])})),t}let O="visual",q=null,R=null,B="hex",P=null;document.addEventListener("DOMContentLoaded",(()=>{console.log("Initializing UI components"),function(){const n=document.getElementById("resize-handle");if(!n)return;let e=!1;function t(){e=!1,document.body.style.userSelect="",n.releasePointerCapture(0)}n.addEventListener("pointerdown",(function(t){e=!0,document.body.style.userSelect="none",n.setPointerCapture(t.pointerId)})),n.addEventListener("pointermove",(function(n){if(!e)return;const t={w:Math.max(400,Math.floor(n.clientX+16)),h:Math.max(300,Math.floor(n.clientY+16))};parent.postMessage({pluginMessage:{type:"resize",size:t}},"*")})),n.addEventListener("pointerup",t),n.addEventListener("pointercancel",t)}(),function(){const n=document.getElementById("color-hex"),e=document.getElementById("color-rgba"),t=document.getElementById("color-hsla");let o="hex";function r(n){console.log(`Sending color format to plugin: ${n}`),parent.postMessage({pluginMessage:{type:"apply-color-format",colorFormat:n}},"*")}null==n||n.addEventListener("change",(()=>{n.checked&&"hex"!==o&&(o="hex",r(o))})),null==e||e.addEventListener("change",(()=>{e.checked&&"rgba"!==o&&(o="rgba",r(o))})),null==t||t.addEventListener("change",(()=>{t.checked&&"hsla"!==o&&(o="hsla",r(o))})),o="hex",n&&(n.checked=!0)}();const n=function(n,e){const t=document.getElementById(n);if(!t){console.error(`Header container #${n} not found`);const e=document.createElement("div");return{setActiveView:()=>{},toggleSidebar:()=>{},setReferenceCounts:()=>{},viewToggleElement:e,settingsButtonElement:e}}let o="visual",r={resolved:0,unresolved:0};const i=function(){const n=document.createElement("button");n.className="sidebar-toggle",n.title="Toggle Sidebar",n.innerHTML='\n    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n  ';let e=window.innerWidth>960;function t(){const n=document.getElementById("sidebar-container");n&&(e=!e,e?n.classList.add("visible"):n.classList.remove("visible"))}return n.addEventListener("click",t),{element:n,toggleSidebar:t}}(),a=function(n){let e={colorFormat:"hex",exportFormat:"dtcg"};const t=document.createElement("div");t.className="settings-modal",t.style.display="none";const o=document.createElement("div");o.className="settings-modal-overlay";const r=document.createElement("div");r.className="settings-modal-content";const i=document.createElement("div");i.className="settings-modal-header";const a=document.createElement("h2");a.className="settings-modal-title",a.textContent="Settings";const s=document.createElement("button");s.className="settings-modal-close",s.innerHTML="&times;",s.setAttribute("aria-label","Close settings"),i.appendChild(a),i.appendChild(s);const l=document.createElement("div");l.className="settings-modal-body";const c=document.createElement("div");c.className="settings-section";const d=document.createElement("h3");d.className="settings-heading",d.textContent="Format";const p=document.createElement("div");p.className="settings-options";const m=C("format-dtcg","format","DTCG Format",!0),g=C("format-legacy","format","Legacy Format",!1);p.appendChild(m),p.appendChild(g),c.appendChild(d),c.appendChild(p);const u=document.createElement("div");u.className="settings-section";const f=document.createElement("h3");f.className="settings-heading",f.textContent="Color Format";const h=document.createElement("div");h.className="settings-options";const x=C("color-hex","color-format","HEX (#ffffff)",!0),v=C("color-rgba","color-format","RGBA (rgba(255, 255, 255, 1))",!1),b=C("color-hsla","color-format","HSLA (hsla(0deg, 0%, 100%, 1))",!1);h.appendChild(x),h.appendChild(v),h.appendChild(b),u.appendChild(f),u.appendChild(h);const y=document.createElement("div");y.className="settings-section references-section";const w=document.createElement("h3");w.className="settings-heading",w.textContent="References";const k=document.createElement("div");function C(n,e,t,o){const r=document.createElement("div");r.className="settings-option";const i=document.createElement("input");i.type="radio",i.id=n,i.name=e,o&&(i.checked=!0);const a=document.createElement("label");return a.htmlFor=n,a.textContent=t,r.appendChild(i),r.appendChild(a),r}function E(){t.style.display="none",document.body.style.overflow=""}return k.className="reference-counter",k.textContent="0/0 resolved",y.appendChild(w),y.appendChild(k),l.appendChild(c),l.appendChild(u),l.appendChild(y),r.appendChild(i),r.appendChild(l),t.appendChild(o),t.appendChild(r),s.addEventListener("click",E),o.addEventListener("click",E),t.querySelectorAll('input[name="format"]').forEach((t=>{t.addEventListener("change",(()=>{if(t.checked){const o="format-dtcg"===t.id?"dtcg":"legacy";e.exportFormat=o,n.onSettingsChange("exportFormat",o)}}))})),t.querySelectorAll('input[name="color-format"]').forEach((t=>{t.addEventListener("change",(()=>{if(t.checked){const o=t.id.replace("color-","");e.colorFormat=o,n.onSettingsChange("colorFormat",o)}}))})),{element:t,open:function(){t.style.display="flex",document.body.style.overflow="hidden"},close:E,updateReferenceCount:function(n,e){const o=t.querySelector(".reference-counter");o&&(o.textContent=`${n}/${n+e} resolved`,e>0?o.classList.add("has-unresolved"):o.classList.remove("has-unresolved"))}}}({onSettingsChange:e.onSettingsChange,onExtract:e.onExtract,onExport:e.onExport}),s=document.createElement("div");s.className="header-content";const l=document.createElement("div");l.className="header-left",l.appendChild(i.element);const c=document.createElement("div");c.className="header-title",c.textContent="Design Token Manager",l.appendChild(c),s.appendChild(l);const d=document.createElement("div");d.className="header-controls";const p=document.createElement("div");p.className="view-toggle";const m=document.createElement("button");m.className="view-toggle-btn active",m.setAttribute("data-view","visual"),m.innerHTML='\n    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M2 12C2 12 5 5 12 5C19 5 22 12 22 12C22 12 19 19 12 19C5 19 2 12 2 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    Visual\n  ';const g=document.createElement("button");g.className="view-toggle-btn",g.setAttribute("data-view","json"),g.innerHTML='\n    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M16 18L22 12L16 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      <path d="M8 6L2 12L8 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n    JSON\n  ';const u=x({type:"extract",title:"Extract Tokens",onClick:e.onExtract}),f=x({type:"export",title:"Export Tokens",onClick:e.onExport}),h=document.createElement("button");h.className="settings-button",h.title="Settings",h.innerHTML='\n    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n      <path d="M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.258 9.77251 19.9887C9.5799 19.7194 9.31074 19.5143 9 19.4C8.69838 19.2669 8.36381 19.2272 8.03941 19.286C7.71502 19.3448 7.41568 19.4995 7.18 19.73L7.12 19.79C6.93425 19.976 6.71368 20.1235 6.47088 20.2241C6.22808 20.3248 5.96783 20.3766 5.705 20.3766C5.44217 20.3766 5.18192 20.3248 4.93912 20.2241C4.69632 20.1235 4.47575 19.976 4.29 19.79C4.10405 19.6043 3.95653 19.3837 3.85588 19.1409C3.75523 18.8981 3.70343 18.6378 3.70343 18.375C3.70343 18.1122 3.75523 17.8519 3.85588 17.6091C3.95653 17.3663 4.10405 17.1457 4.29 16.96L4.35 16.9C4.58054 16.6643 4.73519 16.365 4.794 16.0406C4.85282 15.7162 4.81312 15.3816 4.68 15.08C4.55324 14.7842 4.34276 14.532 4.07447 14.3543C3.80618 14.1766 3.49179 14.0813 3.17 14.08H3C2.46957 14.08 1.96086 13.8693 1.58579 13.4942C1.21071 13.1191 1 12.6104 1 12.08C1 11.5496 1.21071 11.0409 1.58579 10.6658C1.96086 10.2907 2.46957 10.08 3 10.08H3.09C3.42099 10.0723 3.742 9.96512 4.0113 9.77251C4.28059 9.5799 4.48572 9.31074 4.6 9C4.73312 8.69838 4.77282 8.36381 4.714 8.03941C4.65519 7.71502 4.50053 7.41568 4.27 7.18L4.21 7.12C4.02405 6.93425 3.87653 6.71368 3.77588 6.47088C3.67523 6.22808 3.62343 5.96783 3.62343 5.705C3.62343 5.44217 3.67523 5.18192 3.77588 4.93912C3.87653 4.69632 4.02405 4.47575 4.21 4.29C4.39575 4.10405 4.61632 3.95653 4.85912 3.85588C5.10192 3.75523 5.36217 3.70343 5.625 3.70343C5.88783 3.70343 6.14808 3.75523 6.39088 3.85588C6.63368 3.95653 6.85425 4.10405 7.04 4.29L7.1 4.35C7.33568 4.58054 7.63502 4.73519 7.95941 4.794C8.28381 4.85282 8.61838 4.81312 8.92 4.68H9C9.29577 4.55324 9.54802 4.34276 9.72569 4.07447C9.90337 3.80618 9.99872 3.49179 10 3.17V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50053 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n    </svg>\n  ',p.appendChild(m),p.appendChild(g),d.appendChild(u.element),d.appendChild(f.element),s.appendChild(d),t.appendChild(s),document.body.appendChild(a.element);const v=[m,g];return v.forEach((n=>{n.addEventListener("click",(()=>{const t=n.getAttribute("data-view");t!==o&&(v.forEach((n=>n.classList.remove("active"))),n.classList.add("active"),o=t,e.onViewChange(t))}))})),h.addEventListener("click",(()=>{a.open()})),{setActiveView:n=>{if(n===o)return;const e=t.querySelector(`.view-toggle-btn[data-view="${n}"]`);e&&e.click()},toggleSidebar:i.toggleSidebar,setReferenceCounts:(n,e)=>{r.resolved=n,r.unresolved=e,a.updateReferenceCount(n,e)},viewToggleElement:p,settingsButtonElement:h}}("header-container",{onViewChange:n=>{O=n,function(){const n=document.getElementById("token-grid-container"),e=document.getElementById("json-view-container");n&&e&&("visual"===O?(n.style.display="block",e.style.display="none"):(n.style.display="none",e.style.display="block",i()))}()},onSettingsChange:(n,e)=>{console.log(`Setting ${n} changed to ${e}`),"colorFormat"===n&&(B=e,s(e))},onExtract:()=>{console.log("Extract tokens requested"),l()},onExport:()=>{console.log("Export tokens requested"),c()}});window.headerInterface=n;const e=document.querySelector(".main-panel-actions");e&&(e.appendChild(n.viewToggleElement),e.appendChild(n.settingsButtonElement)),function(){const n=document.getElementById("sidebar-container");n&&(window.innerWidth<=960?n.classList.remove("visible"):n.classList.add("visible"),window.addEventListener("resize",(()=>{window.innerWidth<=960&&n.classList.remove("visible")})))}(),P=function(n,e){const t=document.getElementById(n);if(!t)return console.error(`Sidebar container #${n} not found`),{getState:()=>({activeCollection:null,selectedModes:new Map,colorFormat:"hex",exportFormat:"dtcg"}),setReferenceCounts:()=>{},updateTokenData:()=>{}};const o={activeCollection:null,selectedModes:new Map,colorFormat:"hex",exportFormat:"dtcg"};let r={resolved:0,unresolved:0};t.innerHTML='\n    <div class="sidebar-tabs">\n      <button class="sidebar-tab active" data-tab="collections">Collections</button>\n    </div>\n    \n    <div class="sidebar-content">\n      <div class="sidebar-panel active" id="collections-panel">\n        \x3c!-- Collections & Modes --\x3e\n        <div id="collections-container" class="collections-tree"></div>\n      </div>\n    </div>\n    \n    <div class="sidebar-footer">\n      <div class="reference-status">\n        <span>References</span>\n        <span class="reference-counter">\n          0/0 resolved\n        </span>\n      </div>\n    </div>\n  ';const i=new v("collections-container",{onActiveCollectionChange:n=>{o.activeCollection=n,e.onActiveCollectionChange(n)},onModeChange:(n,t)=>{o.selectedModes.set(n,t),e.onModeChange(n,t)}});return function(){const n=t.querySelector(".search-input");n&&n.addEventListener("input",(()=>{const e=n.value.toLowerCase();console.log("Search query:",e)}))}(),{getState:()=>Object.assign({},o),setReferenceCounts:function(n,e){r.resolved=n,r.unresolved=e;const o=t.querySelector(".reference-counter");o&&(o.textContent=`${n}/${n+e} resolved`,e>0?o.classList.add("has-unresolved"):o.classList.remove("has-unresolved"))},updateTokenData:n=>{const e=i.initialize(n);o.activeCollection=e.activeCollection,o.selectedModes=e.selectedModes}}}("sidebar-container",{onActiveCollectionChange:n=>{console.log(`Active collection changed to: ${n}`),a()},onModeChange:(n,e)=>{console.log(`Mode changed for ${n} to ${e}`),a()},onSettingsChange:(n,e)=>{console.log(`Setting ${n} changed to ${e}`),"colorFormat"===n&&(B=e,s(e))},onExtract:()=>{console.log("Extract tokens requested"),l()},onExport:()=>{console.log("Export tokens requested"),c()}});const t=function(n){const{tokens:e,onTokenClick:t}=n,o=document.createElement("div");o.className="token-grid-container";const r=n=>{if(o.innerHTML="",0===n.length){const n=document.createElement("div");return n.className="token-grid-empty",n.textContent="No tokens to display",void o.appendChild(n)}!function(n,e,t,o){const r=function(n){const e={};return n.forEach((n=>{const t=n.path.split(".");let o="Other",r="General";t.length>=3&&(o=t[2]),t.length>=4&&(r=t[3]),e[o]||(e[o]={}),e[o][r]||(e[o][r]=[]),e[o][r].push(n)})),Object.entries(e).map((([n,e])=>{const t=Object.entries(e).map((([n,e])=>({name:n,tokens:e}))).sort(((n,e)=>n.name.localeCompare(e.name)));return{name:n,subcategories:t}})).sort(((n,e)=>n.name.localeCompare(e.name)))}(e),i=function(n){if(n.length<=1)return"";let e='<div class="category-navigation">';return n.forEach((n=>{e+=`<a href="#category-${n.name.toLowerCase()}" class="category-link">${n.name}</a>`})),e+="</div>",e}(r),a=function(n,e,t){const o=document.createElement("div");return o.className="token-categories-container",n.forEach((n=>{const r=document.createElement("div");r.className="token-category-section",r.id=`category-${n.name.toLowerCase()}`;const i=document.createElement("h2");i.className="token-category-heading",i.textContent=n.name,r.appendChild(i),n.subcategories.forEach((n=>{const o=document.createElement("div");o.className="token-subcategory-section";const i=document.createElement("h3");i.className="token-subcategory-heading",i.textContent=n.name,o.appendChild(i);const a=document.createElement("div");a.className="token-grid",n.tokens.forEach((n=>{const o=e(n);o.addEventListener("click",(()=>t(n))),a.appendChild(o)})),o.appendChild(a),r.appendChild(o)})),o.appendChild(r)})),o}(r,t,o);n.innerHTML=i,n.appendChild(a)}(o,n,(n=>S({token:n,onClick:t})),t)};return r(e),{element:o,update:n=>{r(n)}}}({tokens:[],onTokenClick:n=>{console.log("TokenGrid onTokenClick called:",n),function(n){console.log("showTokenDetails called:",n),r.show(n)}(n)}}),o=document.getElementById("token-grid-container");o&&o.appendChild(t.element);const r=j("details-panel-container");function i(){if(!P)return;const n=P.getState(),e=D(q,n.activeCollection,n.selectedModes),t=document.getElementById("json-view-container");var o;t&&(t.querySelector("#json-viewer-content")?(o=e,N?N.updateJson(o):console.warn("Cannot update JSON viewer: editor not initialized")):T("json-view-container",e))}function a(){if(!q||!P)return;const e=P.getState(),o=e.activeCollection,{displayTokens:r,referenceMap:a,unresolvedReferences:s}=function(n,e,t){if(!n||!e||!t.has(e))return{displayTokens:{},referenceMap:{},unresolvedReferences:0};const o=function(n){const e={};function t(n,o="",r=""){if(n&&"object"==typeof n)if(void 0===n.$value||void 0===n.$type)for(const e in n){const i=o?`${o}/${e}`:e,a=r?`${r}.${e}`:e;"object"==typeof n[e]&&null!==n[e]&&t(n[e],i,a)}else{const t=o.replace(/\//g,".");e[t]={value:n.$value,type:n.$type,originalPath:r},e[o]={value:n.$value,type:n.$type,originalPath:r};const i=t.split(".");for(let a=i.length;a>0;a--){const s=i.slice(i.length-a).join(".");e[s]||s===t||(e[s]={value:n.$value,type:n.$type,originalPath:r});const l=i.slice(i.length-a).join("/");e[l]||l===o||(e[l]={value:n.$value,type:n.$type,originalPath:r})}const a=i[i.length-1];e[a]||(e[a]={value:n.$value,type:n.$type,originalPath:r})}}for(const e in n)for(const o in n[e])t(n[e][o],`${e}/${o}`,`${e}.${o}`),t(n[e][o],"","");return e}(V(n,t)),r=D(n,e,t),i=function(n,e){let t=0;function o(n){if(n&&"object"==typeof n){if(n.$value&&"string"==typeof n.$value&&n.$value.startsWith("{")&&n.$value.endsWith("}")){const o=n.$value.substring(1,n.$value.length-1);e[o]||t++}if(Array.isArray(n))n.forEach((n=>o(n)));else for(const e in n)"object"==typeof n[e]&&null!==n[e]&&o(n[e])}}for(const e in n)for(const t in n[e])o(n[e][t]);return t}(r,o);return{displayTokens:r,referenceMap:o,unresolvedReferences:i}}(q,o,e.selectedModes),l=function(n){const e=new Map;return n.forEach(((n,t)=>{e.set(t,[n])})),e}(e.selectedModes);let c=function(n){const e=[];function t(n,o="",r=""){if(n&&"object"==typeof n){if(void 0!==n.$value){let t=n.$type||"unknown";const i=o.toLowerCase();i.includes("radius")||i.includes("corner")||i.includes("round")?t="radius":(i.includes("spacing")||i.includes("gap")||i.includes("padding")||i.includes("margin")||i.includes("size"))&&(t="spacing");const a={id:o,name:r||o.split(".").pop()||"",path:o,value:n.$value,type:t,reference:b(n.$value)};return a.reference&&(a.referencePath=n.$referencePath||y(n.$value)||"",a.resolvedValue=n.$resolvedValue,a.resolvedType=n.$resolvedType,a.referenceChain=n.$referenceChain),void e.push(a)}for(const e in n){if(e.startsWith("$"))continue;const i=n[e];"object"==typeof i&&null!==i&&t(i,o?`${o}.${e}`:e,r?`${r}.${e}`:e)}}}for(const e in n)for(const o in n[e])t(n[e][o],`${e}.${o}`);return e}(function(n,e=[],t=new Map){const o=function(n,e=[],t=new Map){const o={};for(const r of e)if(n[r]){const e=t.get(r)||[];for(const t of e)n[r][t]&&(w(n[r][t],`${r}/${t}`,`${r}.${t}`,!0,o),w(n[r][t],"","",!0,o))}for(const r in n)for(const i in n[r])e.includes(r)&&(t.get(r)||[]).includes(i)||(w(n[r][i],`${r}/${i}`,`${r}.${i}`,!1,o),w(n[r][i],"","",!1,o));return o}(n,e,t),r=JSON.parse(JSON.stringify(n));function i(n,e=""){if(n&&"object"==typeof n)if(Array.isArray(n))n.forEach(((n,t)=>{i(n,`${e}[${t}]`)}));else{if(void 0!==n.$value&&b(n.$value)){const e=E(n.$value,o);n.$reference=!0,n.$referencePath=e.referencePath,e.isResolved&&(n.$resolvedValue=e.value,n.$resolvedType=e.type,n.$resolvedFrom=e.resolvedFrom,n.$referenceChain=e.chain)}for(const t in n){if(t.startsWith("$"))continue;const o=n[t];"object"==typeof o&&null!==o&&i(o,e?`${e}.${t}`:t)}}}for(const n in r)for(const e in r[n])i(r[n][e],`${n}.${e}`);return r}(V(q,e.selectedModes),Array.from(e.selectedModes.keys()),l));o&&(c=c.filter((n=>n.path.startsWith(`${o}.`))));const d=c.filter((n=>n.reference&&n.resolvedValue)).length,p=c.filter((n=>n.reference&&!n.resolvedValue)).length;P.setReferenceCounts(d,p),n.setReferenceCounts(d,p),function(n){const e=document.getElementById("reference-warning"),t=document.getElementById("reference-warning-text");e&&t&&(n>0?(e.style.display="flex",t.textContent=`${n} unresolved references found`):e.style.display="none")}(p),R=c,t.update(c),"json"===O&&i(),function(n){if(!P)return;const e=document.querySelector(".main-panel-title");if(e&&n){const t=P.getState().selectedModes.get(n);e.textContent=`${n}/${t}`}else e&&(e.textContent="Design Tokens")}(o)}function s(n){parent.postMessage({pluginMessage:{type:"apply-color-format",colorFormat:n}},"*")}function l(){parent.postMessage({pluginMessage:{type:"extract-tokens"}},"*")}function c(){q&&P&&H({tokenData:q,onExport:n=>{console.log("Export options:",n),parent.postMessage({pluginMessage:{type:"export-tokens",options:n}},"*")},onCancel:()=>{console.log("Export cancelled")}})}parent.postMessage({pluginMessage:{type:"ui-ready"}},"*"),window.onmessage=n=>{const e=n.data.pluginMessage;if(e)switch(console.log("Message from plugin:",e.type),e.type){case"tokens-data":q=e.data,P&&P.updateTokenData(q),a();const n=document.querySelector(".json-editor-message");n&&"Refreshing token data..."===n.textContent&&(n.textContent="Variables updated and data refreshed successfully!",n.className="json-editor-message success");break;case"update-variables-result":if(e.success){console.log("Variables updated successfully");const n=e.created||0,t=e.updated||0,o=e.collections||0,r=e.modes||0,i=e.renamed||0,a=(e.deleted,n+t);if(e.warnings&&Array.isArray(e.warnings)&&e.warnings.length>0){console.log("Reference warnings:",e.warnings);const i=document.querySelector(".json-editor-message");if(i){const s=[];a>0&&s.push(`${a} variables (${n} created, ${t} updated)`),o>0&&s.push(`${o} collection${o>1?"s":""}`),r>0&&s.push(`${r} mode${r>1?"s":""}`);const l=`Updated ${s.length>0?s.join(", "):"items"} with ${e.warnings.length} warning(s).`;if(i.textContent=l,i.className="json-editor-message warning",e.warnings.length>0){const n=document.createElement("div");n.className="message-details",n.innerHTML=e.warnings.slice(0,3).map((n=>`- ${n}`)).join("<br>"),e.warnings.length>3&&(n.innerHTML+=`<br>- ... and ${e.warnings.length-3} more`),i.appendChild(n)}}}else if(e.error){console.log("Information from variable update:",e.error);const n=document.querySelector(".json-editor-message");n&&(n.textContent=`${e.error}`,n.className="json-editor-message info")}else{const e=document.querySelector(".json-editor-message");if(e){let s="";const l=[];a>0&&l.push(`${a} variables (${n} created, ${t} updated)`),o>0&&l.push(`${o} collection${o>1?"s":""}`),r>0&&l.push(`${r} mode${r>1?"s":""}`),i>0&&l.push(`${i} item${i>1?"s":""} renamed`),s=l.length>0?`Successfully updated ${l.join(", ")}! Other items were preserved.`:"No changes needed. All items are up to date.",e.textContent=s,e.className="json-editor-message success"}}}else{console.error("Error updating variables:",e.error);const n=document.querySelector(".json-editor-message");n&&(n.textContent=`Error: ${e.error||"Unknown error updating variables"}`,n.className="json-editor-message error")}break;case"download-file":console.log("Received file for download:",e.fileName);try{const n=new Uint8Array(e.buffer),t=new Blob([n],{type:"application/zip"}),o=URL.createObjectURL(t),r=document.createElement("a");r.href=o,r.download=e.fileName,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((()=>URL.revokeObjectURL(o)),1e3);const i=document.createElement("div");i.className="export-notification",i.textContent="Export completed! ZIP file downloaded.",i.style.position="fixed",i.style.bottom="20px",i.style.right="20px",i.style.backgroundColor="#4CAF50",i.style.color="white",i.style.padding="10px 20px",i.style.borderRadius="4px",i.style.boxShadow="0 2px 4px rgba(0,0,0,0.2)",i.style.zIndex="1000",document.body.appendChild(i),setTimeout((()=>{i.parentNode&&i.parentNode.removeChild(i)}),3e3),console.log("File download initiated")}catch(n){console.error("Error downloading file:",n),alert(`Error downloading file: ${n instanceof Error?n.message:"Unknown error"}`)}break;case"error":console.error("Error from plugin:",e.message),alert(`Error: ${e.message}`)}}}))})();
</script>
</body></html>